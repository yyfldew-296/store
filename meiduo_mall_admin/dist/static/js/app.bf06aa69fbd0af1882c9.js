webpackJsonp([1],{"/Sdc":function(e,t){},"6eXF":function(e,t){},"6fbd":function(e,t){},"6tr4":function(e,t){},"7M60":function(e,t){},"8FC7":function(e,t){},"8LRx":function(e,t){},AmGz:function(e,t){},FLHC:function(e,t){},I6yU:function(e,t){},"Ih+2":function(e,t){},JGCd:function(e,t){},JZkr:function(e,t){},LscF:function(e,t){},MZZM:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]},n=s("VU/8")({name:"App"},a,!1,null,null,null).exports,r=s("/ocq"),i={apis:"http://www.meiduo.site:8000/meiduo_admin"},l={name:"Login",data:function(){return{username:"",password:"",errmsg:"",errshow:!1}},methods:{fnLogin:function(){var e=this;if(""==this.username||""==this.password)return this.errmsg="用户名或密码不能为空",void(this.errshow=!0);this.axios.post(i.apis+"/authorizations/",{username:this.username,password:this.password},{}).then(function(t){sessionStorage.clear(),localStorage.clear(),localStorage.token=t.data.token,localStorage.username=t.data.username,localStorage.user_id=t.data.user_id,e.$router.push({path:"/home"})}).catch(function(t){e.errmsg="用户名或密码错误",e.errshow=!0})}}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main_wrap"},[e._m(0),e._v(" "),s("form",{staticClass:"login_form",attrs:{method:"post"}},[s("h1",{staticClass:"login_title"},[e._v("用户登录")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"input_txt",attrs:{type:"text",name:"username",placeholder:"用户名",autocomplete:"off"},domProps:{value:e.username},on:{click:function(t){e.errshow=!1},input:function(t){t.target.composing||(e.username=t.target.value)}}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input_txt",attrs:{type:"password",name:"password",placeholder:"密码"},domProps:{value:e.password},on:{click:function(t){e.errshow=!1},input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.errshow,expression:"errshow"}],staticClass:"error_tip"},[e._v(e._s(e.errmsg))]),e._v(" "),s("input",{staticClass:"input_sub",attrs:{type:"button",value:"登 录"},on:{click:e.fnLogin}})])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"login_logo"},[t("img",{attrs:{src:"static/images/logo.png",alt:""}})])}]};var u=s("VU/8")(l,c,!1,function(e){s("vnPP")},"data-v-a584d758",null).exports,p={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",{staticClass:"menu"},e._l(e.aList,function(t,o){return s("li",{on:{click:function(t){return e.fnSetMenu([o,-1])}}},[s("router-link",{staticClass:"level1",class:o==e.aNowMenu[0]?"current":"",attrs:{to:t.url}},[s("i",{staticClass:"fa",class:e.aStylist[o]}),e._v(e._s(t.name))]),e._v(" "),t.submenu.length>0?s("ul",{class:o==e.aNowMenu[0]?"current"+t.submenu.length:""},e._l(t.submenu,function(t,a){return s("li",{on:{click:function(t){return t.stopPropagation(),e.fnSetMenu([o,a])}}},[s("router-link",{class:a==e.aNowMenu[1]?"active":"",attrs:{to:t.url}},[s("i",{staticClass:"fa fa-circle-o"}),e._v(e._s(t.name))])],1)}),0):e._e()],1)}),0)},staticRenderFns:[]};var m={name:"Home",data:function(){return{username:""}},components:{Menu:s("VU/8")({name:"Menu",data:function(){return{aList:[{name:"首 页",url:"/home",submenu:[]},{name:"用户管理",url:"/home/user",submenu:[]},{name:"商品管理",url:"",submenu:[{name:"SKU管理",url:"/home/sku"},{name:"SPU管理",url:"/home/spu"},{name:"规格管理",url:"/home/specs"},{name:"规格选项管理",url:"/home/options"},{name:"频道管理",url:"/home/channels"},{name:"品牌管理",url:"/home/brands"},{name:"图片管理",url:"/home/pictures"}]},{name:"订单管理",url:"/home/order",submenu:[]},{name:"系统管理",url:"",submenu:[{name:"权限管理",url:"/home/author"},{name:"用户组管理",url:"/home/group"},{name:"管理员管理",url:"/home/admin"}]}],aStylist:["fa-home fa-lg","fa-user fa-lg","fa-shopping-basket","fa-list-alt","fa-gear fa-lg","fa-key fa-lg","fa-newspaper-o","fa-address-card-o","fa-truck fa-lg"],aNowMenu:[0,0]}},methods:{fnSetMenu:function(e){this.aNowMenu=[e[0],e[1]]},fnResetMenu:function(e){"/home"==e&&this.fnSetMenu([0,0]),"/home/user"==e&&this.fnSetMenu([1,0]),"/home/author"==e&&this.fnSetMenu([4,0]),"/home/group"==e&&this.fnSetMenu([4,1]),"/home/admin"==e&&this.fnSetMenu([4,2]),"/home/sku"==e&&this.fnSetMenu([2,0]),"/home/spu"==e&&this.fnSetMenu([2,1]),"/home/spuadd"==e&&this.fnSetMenu([2,1]),"/home/spuedit"==e&&this.fnSetMenu([2,1]),"/home/specs"==e&&this.fnSetMenu([2,2]),"/home/options"==e&&this.fnSetMenu([2,3]),"/home/channels"==e&&this.fnSetMenu([2,4]),"/home/brands"==e&&this.fnSetMenu([2,5]),"/home/pictures"==e&&this.fnSetMenu([2,6]),"/home/order"==e&&this.fnSetMenu([3,0]),"/home/order_detail"==e&&this.fnSetMenu([3,0])}},watch:{$route:function(e,t){this.fnResetMenu(e.path)}},mounted:function(){var e=this.$route.path;this.fnResetMenu(e)}},p,!1,function(e){s("JZkr")},"data-v-5ad872a9",null).exports},mounted:function(){var e=localStorage.username;void 0!=e?this.username=e:this.$router.push({path:"/"})},methods:{fnQuit:function(){sessionStorage.clear(),localStorage.clear(),this.$router.push({path:"/"})}}},d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home_wrap"},[s("div",{staticClass:"header"},[e._m(0),e._v(" "),s("a",{staticClass:"quit",attrs:{href:"javascript:;"},on:{click:e.fnQuit}},[s("i",{staticClass:"fa fa-power-off"}),e._v("  退出")]),e._v(" "),s("div",{staticClass:"user_info"},[s("img",{attrs:{src:"static/images/person.png",alt:"user"}}),e._v(" "),s("span",[e._v("欢迎 "+e._s(e.username))])])]),e._v(" "),s("div",{staticClass:"side_bar"},[s("Menu")],1),e._v(" "),s("div",{staticClass:"main_body"},[s("router-view")],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("a",{staticClass:"logo",attrs:{href:"#"}},[t("img",{attrs:{src:"static/images/logo.png",alt:"美多商城logo"}})])}]};var f=s("VU/8")(m,d,!1,function(e){s("luOr")},"data-v-0758e59e",null).exports,h={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"breadcrumb"},[this._v("\n\t当前位置："+this._s(this.crumb)+"\n")])},staticRenderFns:[]};var _=s("VU/8")({name:"BreadCrumb",props:["crumb"],data:function(){return{}}},h,!1,function(e){s("pTa0")},"data-v-0d90cc62",null).exports,g={name:"CountPannel",data:function(){return{total_count:0,day_increment:0,day_active:0,day_orders:0}},mounted:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/statistical/total_count/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){console.log(t),e.total_count=t.data.count}).catch(function(t){console.log(t.response),401==t.response.status&&e.$router.push({path:"/"})}),this.axios.get(i.apis+"/statistical/day_increment/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.day_increment=t.data.count}).catch(function(e){console.log(e)}),this.axios.get(i.apis+"/statistical/day_active/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.day_active=t.data.count}).catch(function(e){console.log(e)}),this.axios.get(i.apis+"/statistical/day_orders/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.day_orders=t.data.count}).catch(function(e){console.log(e)})}},v={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"spannels"},[s("div",{staticClass:"spannel scolor01"},[s("em",[e._v(e._s(e.total_count))]),s("span",[e._v("人")]),e._v(" "),s("b",[e._v("用户总数")])]),e._v(" "),s("div",{staticClass:"spannel scolor02"},[s("em",[e._v(e._s(e.day_increment))]),s("span",[e._v("人")]),e._v(" "),s("b",[e._v("日增用户")])]),e._v(" "),s("div",{staticClass:"spannel scolor03"},[s("em",[e._v(e._s(e.day_active))]),s("span",[e._v("人")]),e._v(" "),s("b",[e._v("日活用户")])]),e._v(" "),s("div",{staticClass:"spannel scolor04"},[s("em",[e._v(e._s(e.day_orders))]),s("span",[e._v("人")]),e._v(" "),s("b",[e._v("下单用户")])])])},staticRenderFns:[]};var b=s("VU/8")(g,v,!1,function(e){s("pc6p")},"data-v-68eb15e4",null).exports,F={name:"CurveGraph",data:function(){return{}},mounted:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/statistical/month_increment/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){for(var s=t.data,o=[],a=[],n=0;n<s.length;n++)o.push(s[n].count),a.push(s[n].date);var r=e.echarts.init(document.getElementById("curve_show")),i={title:{text:"月新增用户",left:"center",top:"10"},tooltip:{trigger:"axis"},legend:{data:["active"],top:"40"},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},calculable:!0,xAxis:[{name:"日",type:"category",boundaryGap:!1,data:a}],yAxis:[{name:"月新增用户",type:"value"}],series:[{name:"active",type:"line",smooth:!0,lineStyle:{color:"#f80"},data:o,areaStyle:{normal:{color:new e.echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(255,136,0,0.39)"},{offset:.34,color:"rgba(255,180,0,0.25)"},{offset:1,color:"rgba(255,222,0,0.00)"}])}}}],grid:{show:!0,x:50,x2:50,y:80,height:220}};r.setOption(i)}).catch(function(e){console.log(e)})}},y={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"pannel01"},[t("div",{staticClass:"curve_show",attrs:{id:"curve_show"}})])}]};var k=s("VU/8")(F,y,!1,function(e){s("8FC7")},"data-v-454219f8",null).exports,w=s("Xxa5"),x=s.n(w),S=s("exGp"),T=s.n(S),$=s("//Fk"),C=s.n($),z={name:"PieGraph",data:function(){return{msg:"Welcome to Your Vue.js App"}},mounted:function(){var e,t=this,s=(e=T()(x.a.mark(function e(){var t,s,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:return t=e.sent,e.next=5,n;case 5:s=e.sent,r={title:{top:10,text:"日活及下单用户比",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},color:["#ffcb5b","#ff6666"],legend:{x:"center",top:65,data:["日活用户","下单用户"]},toolbox:{show:!0,x:"center",top:35,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["pie","funnel"],option:{funnel:{x:"25%",width:"50%",funnelAlign:"left",max:1548}}},restore:{show:!0},saveAsImage:{show:!0}}},calculable:!0,series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:t.data.count,name:"日活用户"},{value:s.data.count,name:"下单用户"}]}]},o.setOption(r);case 8:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)}),o=(localStorage.token,this.echarts.init(document.getElementById("pie_show"))),a=new C.a(function(e,s){var o=localStorage.token;t.axios.get(i.apis+"/statistical/day_active/",{headers:{Authorization:"JWT "+o},responseType:"json"}).then(function(t){e(t)}).catch(function(e){s(dat)})}),n=new C.a(function(e,s){var o=localStorage.token;t.axios.get(i.apis+"/statistical/day_orders/",{headers:{Authorization:"JWT "+o},responseType:"json"}).then(function(t){e(t)}).catch(function(e){s(dat)})});s()}},G={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"pannel02"},[t("div",{staticClass:"pie_show",attrs:{id:"pie_show"}})])}]};var A={name:"ColumnGraph",data:function(){return{}},mounted:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/statistical/goods_day_views/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){for(var s=t.data,o=[],a=[],n=0;n<s.length;n++)o.push(s[n].category),a.push(s[n].count);var r={title:{text:"商品访问量",left:"center",top:"10"},tooltip:{trigger:"axis"},legend:{data:["访问量"],top:"40"},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},calculable:!0,xAxis:[{type:"category",data:o}],yAxis:[{name:"访问量",type:"value"}],series:[{name:"访问量",type:"bar",barWidth:30,itemStyle:{normal:{areaStyle:{type:"default"},color:"#f77476"}},data:a}],grid:{show:!0,x:50,x2:50,y:80,height:260},dataZoom:[{start:0,end:100-1e3/31,type:"slider",show:!0,xAxisIndex:[0],handleSize:0,height:8,left:45,right:50,bottom:26,handleColor:"#ddd",handleStyle:{borderColor:"#cacaca",borderWidth:"1",shadowBlur:2,background:"#ddd",shadowColor:"#ddd"}}]};e.echarts.init(document.getElementById("column_show")).setOption(r)}).catch(function(e){console.log(e)})}},P={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"pannel03"},[t("div",{staticClass:"column_show",attrs:{id:"column_show"}})])}]};var B={name:"Front",data:function(){return{}},components:{BreadCrumb:_,CountPannel:b,CurveGraph:k,PieGraph:s("VU/8")(z,G,!1,function(e){s("hA+d")},"data-v-256ba734",null).exports,ColumnGraph:s("VU/8")(A,P,!1,function(e){s("FLHC")},"data-v-36921147",null).exports},mounted:function(){},methods:{}},R={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"front_wrap"},[t("BreadCrumb",{attrs:{crumb:"首页"}}),this._v(" "),t("CountPannel"),this._v(" "),t("CurveGraph"),this._v(" "),t("PieGraph"),this._v(" "),t("ColumnGraph")],1)},staticRenderFns:[]},j=s("VU/8")(B,R,!1,null,null,null).exports,J={name:"AddUser",data:function(){var e=this;return{pop_show:!1,userForm:{username:"",password:"",passcheck:"",mobile:"",email:""},rulesUserForm:{username:[{validator:function(e,t,s){""===t?s(new Error("用户名不能为空!")):/^\w{5,20}$/.test(t)?s():s(new Error("用户名是5到20位数字、字母或下划线"))},trigger:"blur"}],password:[{validator:function(e,t,s){""===t?s(new Error("密码不能为空!")):/^[\w!@#$%^&*]{8,20}$/.test(t)?s():s(new Error("密码是8到20位数字、字母或下划线以及特殊!@#$%^&*符号"))},trigger:"blur"}],passcheck:[{validator:function(t,s,o){""===s?o(new Error("请再次输入密码")):s!==e.userForm.password?o(new Error("两次输入密码不一致!")):o()},trigger:"blur"}],mobile:[{validator:function(e,t,s){""===t?s(new Error("手机号不能为空!")):/^1[34578]\d{9}$/.test(t)?s():s(new Error("手机格式不正确"))},trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var s=localStorage.token;t.axios.post(i.apis+"/users/",{username:t.userForm.username,mobile:t.userForm.mobile,password:t.userForm.password,email:t.userForm.email},{headers:{Authorization:"JWT "+s},responseType:"json"}).then(function(e){201==e.status&&(t.$message({type:"success",message:"添加用户成功!"}),t.$emit("fnSetKey",t.userForm.username),t.pop_show=!1,t.resetForm("userForm"))}).catch(function(e){if(400==e.response.status){var s=e.response.data;s.username&&t.$message({type:"info",message:s.username[0]}),s.password&&t.$message({type:"info",message:s.password[0]}),s.mobile&&t.$message({type:"info",message:s.mobile[0]}),s.email&&t.$message({type:"info",message:s.email[0]})}})})},resetForm:function(e){this.$refs[e].resetFields()}}},W={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"add_user_wrap"},[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.pop_show=!0}}},[e._v("增加用户")]),e._v(" "),s("el-dialog",{attrs:{title:"增加用户",visible:e.pop_show,"append-to-body":""},on:{"update:visible":function(t){e.pop_show=t}}},[s("el-form",{ref:"userForm",attrs:{model:e.userForm,"status-icon":"",rules:e.rulesUserForm,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"用户名:",prop:"username"}},[s("el-input",{staticClass:"input_width",attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.userForm.username,callback:function(t){e.$set(e.userForm,"username",t)},expression:"userForm.username"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"密码:",prop:"password"}},[s("el-input",{staticClass:"input_width",attrs:{type:"password",autocomplete:"off",size:"small"},model:{value:e.userForm.password,callback:function(t){e.$set(e.userForm,"password",t)},expression:"userForm.password"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"确认密码:",prop:"passcheck"}},[s("el-input",{staticClass:"input_width",attrs:{type:"password",autocomplete:"off",size:"small"},model:{value:e.userForm.passcheck,callback:function(t){e.$set(e.userForm,"passcheck",t)},expression:"userForm.passcheck"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"手机号:",prop:"mobile"}},[s("el-input",{staticClass:"input_width",attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.userForm.mobile,callback:function(t){e.$set(e.userForm,"mobile",t)},expression:"userForm.mobile"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"邮箱:",prop:"email"}},[s("el-input",{staticClass:"input_width",attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.userForm.email,callback:function(t){e.$set(e.userForm,"email",t)},expression:"userForm.email"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("userForm")}}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:function(t){return e.resetForm("userForm")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]};var E={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-table",{staticStyle:{width:"95.2%",margin:"0px auto"},attrs:{data:this.users,border:"",size:"medium"}},[t("el-table-column",{attrs:{prop:"id",label:"id",width:"100"}}),this._v(" "),t("el-table-column",{attrs:{prop:"username",label:"用户名"}}),this._v(" "),t("el-table-column",{attrs:{prop:"mobile",label:"手机号"}}),this._v(" "),t("el-table-column",{attrs:{prop:"email",label:"邮箱"}})],1)},staticRenderFns:[]},U={name:"User",data:function(){return{keyword:"",page:1,pages:8,pagesize:10,aUserList:[]}},components:{BreadCrumb:_,AddUser:s("VU/8")(J,W,!1,function(e){s("xXFr")},"data-v-326596ea",null).exports,UserTable:s("VU/8")({name:"UserTable",props:["users"],data:function(){return{}}},E,!1,null,null,null).exports},mounted:function(){this.fnGetData(1)},methods:{fnGetData:function(e){var t=this,s=localStorage.token;this.axios.get(i.apis+"/users/",{headers:{Authorization:"JWT "+s},responseType:"json",params:{page:e,pagesize:this.pagesize,keyword:this.keyword}}).then(function(e){t.aUserList=e.data.lists,t.page=e.data.page,t.pages=e.data.pages}).catch(function(e){console.log(e)})},fnGetKey:function(e){this.keyword=e,this.fnGetData(1)},fnGetPage:function(e){this.page=e,this.fnGetData(this.page)}}},D={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user_wrap"},[s("BreadCrumb",{attrs:{crumb:"用户管理"}}),e._v(" "),s("div",{staticClass:"top_bar"},[s("el-row",[s("el-col",{attrs:{span:8}},[s("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入搜索内容",size:"small"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}},[s("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.fnGetData(1)}},slot:"append"})],1)],1),e._v(" "),s("el-col",{attrs:{span:8,offset:8}},[s("AddUser",{staticClass:"pull-right",on:{fnSetKey:e.fnGetKey}})],1)],1)],1),e._v(" "),s("UserTable",{attrs:{users:e.aUserList}}),e._v(" "),s("el-pagination",{staticStyle:{"text-align":"center","margin-top":"10px"},attrs:{background:"",layout:"prev, pager, next","page-count":e.pages,"current-page":e.page},on:{"current-change":e.fnGetPage}})],1)},staticRenderFns:[]};var L=s("VU/8")(U,D,!1,function(e){s("LscF")},"data-v-38fd5952",null).exports,V={render:function(){var e=this.$createElement;return(this._self._c||e)("h2",{staticClass:"errtip"},[this._v("oops!你访问的页面不存在！")])},staticRenderFns:[]};var O=s("VU/8")({name:"NotFound",data:function(){return{}}},V,!1,function(e){s("fytP")},"data-v-52c27102",null).exports,M=(localStorage.token,{name:"AddUser",data:function(){return{pop_show:!1,content_type_list:[],authorForm:{name:"",codename:"",content_type:1},rulesAuthorForm:{name:[{validator:function(e,t,s){""===t?s(new Error("权限名不能为空")):s()},trigger:"blur"}],codename:[{validator:function(e,t,s){""===t?s(new Error("识别名不能为空!")):s()},trigger:"blur"}]}}},methods:{submitForm:function(){var e=this,t=localStorage.token;this.axios.post(i.apis+"/permission/perms/",{name:this.authorForm.name,codename:this.authorForm.codename,content_type:this.authorForm.content_type},{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){201==t.status&&(e.$message({type:"success",message:"添加权限成功!"}),e.pop_show=!1,e.resetForm("authorForm"),e.$emit("fnResetTable"))}).catch(function(t){if(400==t.response.status){var s=t.response.data;s.name&&e.$message({type:"info",message:s.name[0]}),s.non_field_errors&&e.$message({type:"info",message:s.non_field_errors[0]})}})},fnGetTypeList:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/permission/content_types/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.content_type_list=t.data}).catch(function(e){console.log(e.response)})},resetForm:function(e){this.$refs[e].resetFields()}},mounted:function(){this.fnGetTypeList()}}),q={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"add_user_wrap"},[s("el-button",{staticClass:"pull-right",attrs:{type:"primary",size:"small"},on:{click:function(t){e.pop_show=!0}}},[e._v("增加权限")]),e._v(" "),s("el-dialog",{attrs:{title:"增加权限",visible:e.pop_show,"append-to-body":""},on:{"update:visible":function(t){e.pop_show=t}}},[s("el-form",{ref:"authorForm",attrs:{model:e.authorForm,"status-icon":"",rules:e.rulesAuthorForm,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"权限名称：",prop:"name"}},[s("el-input",{staticClass:"input_width",attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.authorForm.name,callback:function(t){e.$set(e.authorForm,"name",t)},expression:"authorForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"权限识别名：",prop:"codename"}},[s("el-input",{staticClass:"input_width",attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.authorForm.codename,callback:function(t){e.$set(e.authorForm,"codename",t)},expression:"authorForm.codename"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"权限类型：",prop:"content_type"}},[s("el-select",{attrs:{size:"small"},model:{value:e.authorForm.content_type,callback:function(t){e.$set(e.authorForm,"content_type",t)},expression:"authorForm.content_type"}},e._l(e.content_type_list,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:function(t){return e.resetForm("authorForm")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]},N=s("VU/8")(M,q,!1,null,null,null).exports,K=(localStorage.token,{name:"AuthorityTable",props:["authors"],data:function(){return{pop_show:!1,content_type_list:[],edit_id:0,authorForm:{name:"",codename:"",content_type:1},rulesAuthorForm:{name:[{validator:function(e,t,s){""===t?s(new Error("权限名不能为空")):s()},trigger:"blur"}],codename:[{validator:function(e,t,s){""===t?s(new Error("识别名不能为空!")):s()},trigger:"blur"}]}}},methods:{fnPopShow:function(e,t,s){var o=this;this.pop_show=!0,this.edit_id=e,this.authorForm.name=t,this.authorForm.codename=s;var a=localStorage.token;this.axios.get(i.apis+"/permission/perms/"+this.edit_id+"/",{headers:{Authorization:"JWT "+a},responseType:"json"}).then(function(e){o.authorForm.content_type=e.data.content_type}).catch(function(e){console.log(e.response)})},fnPopHide:function(){this.pop_show=!1,that.author_ename="",that.author_type=0},submitForm:function(){var e=this,t=localStorage.token;this.axios.put(i.apis+"/permission/perms/"+this.edit_id+"/",{name:this.authorForm.name,codename:this.authorForm.codename,content_type:this.authorForm.content_type},{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.$message({type:"success",message:"修改权限成功!"}),e.pop_show=!1,e.resetForm("authorForm"),e.$emit("fnResetTable")}).catch(function(e){console.log(e.response)})},fnDelAuthor:function(e){var t=this;this.edit_id=e,this.$confirm("此操作将删除该权限, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e=localStorage.token;t.axios.delete(i.apis+"/permission/perms/"+t.edit_id+"/",{headers:{Authorization:"JWT "+e},responseType:"json"}).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.$emit("fnResetTable")}).catch(function(e){404==e.response.status&&t.$message({type:"info",message:"权限未找到！"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},fnGetTypeList:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/permission/content_types/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.content_type_list=t.data}).catch(function(e){console.log(e.response)})},resetForm:function(e){this.$refs[e].resetFields()}},mounted:function(){this.fnGetTypeList()}}),I={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"auther_table_wrap"},[s("el-table",{staticStyle:{width:"95.2%",margin:"0px auto"},attrs:{data:e.authors,border:"",size:"medium"}},[s("el-table-column",{attrs:{prop:"id",label:"id",width:"100"}}),e._v(" "),s("el-table-column",{attrs:{prop:"name",label:"权限名称"}}),e._v(" "),s("el-table-column",{attrs:{prop:"codename",label:"权限识别名"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return e.fnPopShow(t.row.id,t.row.name,t.row.codename)}}},[e._v("编辑")]),e._v(" "),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.fnDelAuthor(t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),s("el-dialog",{attrs:{title:"编辑权限",visible:e.pop_show,"append-to-body":""},on:{"update:visible":function(t){e.pop_show=t}}},[s("el-form",{ref:"authorForm",attrs:{model:e.authorForm,"status-icon":"",rules:e.rulesAuthorForm,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"权限名称：",prop:"name"}},[s("el-input",{staticClass:"input_width",attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.authorForm.name,callback:function(t){e.$set(e.authorForm,"name",t)},expression:"authorForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"权限识别名：",prop:"codename"}},[s("el-input",{staticClass:"input_width",attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.authorForm.codename,callback:function(t){e.$set(e.authorForm,"codename",t)},expression:"authorForm.codename"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"权限类型：",prop:"content_type"}},[s("el-select",{attrs:{size:"small"},model:{value:e.authorForm.content_type,callback:function(t){e.$set(e.authorForm,"content_type",t)},expression:"authorForm.content_type"}},e._l(e.content_type_list,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:function(t){e.pop_show=!1}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var Z={name:"Authority",data:function(){return{page:1,pages:8,pagesize:10,aAuthorList:[]}},components:{BreadCrumb:_,AddAuthor:N,AuthorityTable:s("VU/8")(K,I,!1,function(e){s("wa+f")},null,null).exports},mounted:function(){this.fnGetData(1)},methods:{fnGetData:function(e){var t=this,s=localStorage.token;this.axios.get(i.apis+"/permission/perms/",{headers:{Authorization:"JWT "+s},responseType:"json",params:{page:e,pagesize:this.pagesize,ordering:"id"}}).then(function(e){t.aAuthorList=e.data.lists,t.page=e.data.page,t.pages=e.data.pages}).catch(function(e){console.log(e)})},fnGetPage:function(e){this.page=e,this.fnGetData(this.page)}}},H={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"authority_wrap"},[s("BreadCrumb",{attrs:{crumb:"权限管理"}}),e._v(" "),s("div",{staticClass:"top_bar"},[s("AddAuthor",{on:{fnResetTable:function(t){return e.fnGetData(1)}}})],1),e._v(" "),s("AuthorityTable",{attrs:{authors:e.aAuthorList},on:{fnResetTable:function(t){return e.fnGetData(1)}}}),e._v(" "),s("el-pagination",{staticStyle:{"text-align":"center","margin-top":"10px"},attrs:{background:"",layout:"prev, pager, next","page-count":e.pages,"current-page":e.page},on:{"current-change":e.fnGetPage}})],1)},staticRenderFns:[]};var X=s("VU/8")(Z,H,!1,function(e){s("YaoQ")},"data-v-45e91551",null).exports,Q=(localStorage.token,{name:"AddGroup",data:function(){return{pop_show:!1,groupForm:{name:"",list:[],listval:[]},rulesGroupForm:{name:[{validator:function(e,t,s){""===t?s(new Error("组名不能为空")):s()},trigger:"blur"}]}}},methods:{submitForm:function(){var e=this,t=localStorage.token;this.axios.post(i.apis+"/permission/groups/",{name:this.groupForm.name,permissions:this.groupForm.listval},{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){201==t.status&&(e.$message({type:"success",message:"添加组成功!"}),e.pop_show=!1,e.groupForm.name="",e.groupForm.listval=[],e.resetForm("groupForm"),e.$emit("fnResetTable"))}).catch(function(t){400==t.response.status&&e.$message({type:"info",message:t.response.data.name[0]})})},fnGetPowerList:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/permission/simple/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){for(var s=t.data,o=[],a=0;a<s.length;a++)o.push({key:s[a].id,label:s[a].name});e.groupForm.list=o}).catch(function(e){console.log(e.response)})},resetForm:function(e){this.$refs[e].resetFields()}},mounted:function(){this.fnGetPowerList()}}),Y={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"add_group_wrap"},[s("el-button",{staticClass:"pull-right",attrs:{type:"primary",size:"small"},on:{click:function(t){e.pop_show=!0}}},[e._v("增加用户组")]),e._v(" "),s("el-dialog",{attrs:{title:"增加用户组",visible:e.pop_show,"append-to-body":"",width:"54%"},on:{"update:visible":function(t){e.pop_show=t}}},[s("el-form",{ref:"groupForm",attrs:{model:e.groupForm,"status-icon":"",rules:e.rulesGroupForm,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"名称：",prop:"name"}},[s("el-input",{staticClass:"input_width",attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.groupForm.name,callback:function(t){e.$set(e.groupForm,"name",t)},expression:"groupForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"权限："}},[s("el-transfer",{attrs:{data:e.groupForm.list},model:{value:e.groupForm.listval,callback:function(t){e.$set(e.groupForm,"listval",t)},expression:"groupForm.listval"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:function(t){return e.resetForm("groupForm")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]},ee=s("VU/8")(Q,Y,!1,null,null,null).exports,te=(localStorage.token,{name:"GroupTable",props:["groups"],data:function(){return{pop_show:!1,edit_id:0,groupForm:{name:"",list:[],listval:[]},rulesGroupForm:{name:[{validator:function(e,t,s){""===t?s(new Error("组名不能为空")):s()},trigger:"blur"}]}}},methods:{fnGetPowerList:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/permission/simple/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){for(var s=t.data,o=[],a=0;a<s.length;a++)o.push({key:s[a].id,label:s[a].name});e.groupForm.list=o}).catch(function(e){console.log(e.response)})},fnPopShow:function(e){var t=this;this.pop_show=!0;var s=localStorage.token;this.axios.get(i.apis+"/permission/groups/"+e+"/",{headers:{Authorization:"JWT "+s},responseType:"json"}).then(function(s){t.edit_id=e,t.groupForm.name=s.data.name,t.groupForm.listval=s.data.permissions}).catch(function(e){console.log(e.response)})},submitForm:function(){var e=this,t=localStorage.token;this.axios.put(i.apis+"/permission/groups/"+this.edit_id+"/",{name:this.groupForm.name,permissions:this.groupForm.listval},{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.$message({type:"success",message:"修改组成功!"}),e.pop_show=!1,e.resetForm("groupForm"),e.$emit("fnResetTable")}).catch(function(e){console.log(e.response)})},fnDelGroup:function(e){var t=this;this.edit_id=e,this.$confirm("此操作将删除该组, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e=localStorage.token;t.axios.delete(i.apis+"/permission/groups/"+t.edit_id+"/",{headers:{Authorization:"JWT "+e},responseType:"json"}).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.$emit("fnResetTable")}).catch(function(e){404==e.response.status&&t.$message({type:"info",message:"组未找到！"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},resetForm:function(e){this.$refs[e].resetFields()}},mounted:function(){this.fnGetPowerList()}}),se={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"group_table_wrap"},[s("el-table",{staticStyle:{width:"95.2%",margin:"0px auto"},attrs:{data:e.groups,border:"",size:"medium"}},[s("el-table-column",{attrs:{prop:"id",label:"id","min-width":"10"}}),e._v(" "),s("el-table-column",{attrs:{prop:"name",label:"组名称","min-width":"60"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作","min-width":"30"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return e.fnPopShow(t.row.id)}}},[e._v("修改")]),e._v(" "),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.fnDelGroup(t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),s("el-dialog",{attrs:{title:"增加用户组",visible:e.pop_show,"append-to-body":"",width:"54%"},on:{"update:visible":function(t){e.pop_show=t}}},[s("el-form",{ref:"groupForm",attrs:{model:e.groupForm,"status-icon":"",rules:e.rulesGroupForm,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"名称：",prop:"name"}},[s("el-input",{staticClass:"input_width",attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.groupForm.name,callback:function(t){e.$set(e.groupForm,"name",t)},expression:"groupForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"权限："}},[s("el-transfer",{attrs:{data:e.groupForm.list},model:{value:e.groupForm.listval,callback:function(t){e.$set(e.groupForm,"listval",t)},expression:"groupForm.listval"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:function(t){e.pop_show=!1}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]},oe={name:"Group",data:function(){return{page:1,pages:8,pagesize:10,aGroupList:[]}},components:{BreadCrumb:_,AddGroup:ee,GroupTable:s("VU/8")(te,se,!1,null,null,null).exports},mounted:function(){this.fnGetData(1)},methods:{fnGetData:function(e){var t=this,s=localStorage.token;this.axios.get(i.apis+"/permission/groups/",{headers:{Authorization:"JWT "+s},responseType:"json",params:{page:e,pagesize:this.pagesize}}).then(function(e){t.aGroupList=e.data.lists,t.page=e.data.page,t.pages=e.data.pages}).catch(function(e){console.log(e)})},fnGetPage:function(e){this.page=e,this.fnGetData(this.page)}}},ae={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"group_wrap"},[s("BreadCrumb",{attrs:{crumb:"用户组管理"}}),e._v(" "),s("div",{staticClass:"top_bar"},[s("AddGroup",{on:{fnResetTable:e.fnGetData}})],1),e._v(" "),s("GroupTable",{attrs:{groups:e.aGroupList},on:{fnResetTable:e.fnGetData}}),e._v(" "),s("el-pagination",{staticStyle:{"text-align":"center","margin-top":"10px"},attrs:{background:"",layout:"prev, pager, next","page-count":e.pages,"current-page":e.page},on:{"current-change":e.fnGetPage}})],1)},staticRenderFns:[]};var ne=s("VU/8")(oe,ae,!1,function(e){s("R6Mc")},"data-v-131b7fa7",null).exports,re=(localStorage.token,{name:"AddAdmin",data:function(){return{pop_show:!1,adminForm:{username:"",password:"",mobile:"",email:"",list:[],listval:[],list2:[],listval2:[]},rulesAdminForm:{username:[{validator:function(e,t,s){""===t?s(new Error("用户名不能为空!")):/^\w{5,20}$/.test(t)?s():s(new Error("用户名是5到20位数字、字母或下划线"))},trigger:"blur"}],password:[{validator:function(e,t,s){""===t?s(new Error("密码不能为空!")):/^[\w!@#$%^&*]{8,20}$/.test(t)?s():s(new Error("密码是8到20位数字、字母或下划线以及特殊!@#$%^&*符号"))},trigger:"blur"}],mobile:[{validator:function(e,t,s){""===t?s(new Error("手机号不能为空!")):/^1[34578]\d{9}$/.test(t)?s():s(new Error("手机格式不正确"))},trigger:"blur"}]}}},methods:{fnGetPower:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/permission/simple/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){for(var s=t.data,o=[],a=0;a<s.length;a++)o.push({key:s[a].id,label:s[a].name});e.adminForm.list2=o}).catch(function(e){console.log(e)})},fnGetGroup:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/permission/groups/simple/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){for(var s=t.data,o=[],a=0;a<s.length;a++)o.push({key:s[a].id,label:s[a].name});e.adminForm.list=o}).catch(function(e){console.log(e)})},submitForm:function(){var e=this,t=localStorage.token;this.axios.post(i.apis+"/permission/admins/",{username:this.adminForm.username,password:this.adminForm.password,mobile:this.adminForm.mobile,email:this.adminForm.email,groups:this.adminForm.listval,user_permissions:this.adminForm.listval2},{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){201==t.status&&(e.$message({type:"success",message:"添加管理员成功!"}),e.pop_show=!1,e.adminForm.name="",e.adminForm.listval=[],e.adminForm.listval2=[],e.resetForm("adminForm"),e.$emit("fnResetTable"))}).catch(function(t){400==t.response.status&&e.$message({type:"info",message:t.response.data.name[0]})})},resetForm:function(e){this.$refs[e].resetFields()}},mounted:function(){this.fnGetPower(),this.fnGetGroup()}}),ie={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"add_admin_wrap"},[s("el-button",{staticClass:"pull-right",attrs:{type:"primary",size:"small"},on:{click:function(t){e.pop_show=!0}}},[e._v("新增管理员")]),e._v(" "),s("el-dialog",{attrs:{title:"新增管理员",visible:e.pop_show,"append-to-body":"",width:"95%"},on:{"update:visible":function(t){e.pop_show=t}}},[s("el-form",{ref:"adminForm",attrs:{model:e.adminForm,inline:!0,"status-icon":"",rules:e.rulesAdminForm,"label-width":"70px"}},[s("el-form-item",{attrs:{label:"用户名：",prop:"username"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.adminForm.username,callback:function(t){e.$set(e.adminForm,"username",t)},expression:"adminForm.username"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"密码：",prop:"password"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.adminForm.password,callback:function(t){e.$set(e.adminForm,"password",t)},expression:"adminForm.password"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"手机：",prop:"mobile"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.adminForm.mobile,callback:function(t){e.$set(e.adminForm,"mobile",t)},expression:"adminForm.mobile"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"邮箱：",prop:"email"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.adminForm.email,callback:function(t){e.$set(e.adminForm,"email",t)},expression:"adminForm.email"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"用户组："}},[s("el-transfer",{attrs:{data:e.adminForm.list,size:"mini"},model:{value:e.adminForm.listval,callback:function(t){e.$set(e.adminForm,"listval",t)},expression:"adminForm.listval"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"权限："}},[s("el-transfer",{attrs:{data:e.adminForm.list2,size:"mini"},model:{value:e.adminForm.listval2,callback:function(t){e.$set(e.adminForm,"listval2",t)},expression:"adminForm.listval2"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:function(t){return e.resetForm("adminForm")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]},le=s("VU/8")(re,ie,!1,null,null,null).exports,ce=(localStorage.token,{name:"AdminTable",props:["admins"],data:function(){return{pop_show:!1,edit_id:0,adminForm:{username:"",password:"",mobile:"",email:"",list:[],listval:[],list2:[],listval2:[]},rulesAdminForm:{username:[{validator:function(e,t,s){""===t?s(new Error("用户名不能为空!")):/^\w{5,20}$/.test(t)?s():s(new Error("用户名是5到20位数字、字母或下划线"))},trigger:"blur"}],password:[{validator:function(e,t,s){""===t?s(new Error("密码不能为空!")):/^[\w!@#$%^&*]{8,20}$/.test(t)?s():s(new Error("密码是8到20位数字、字母或下划线以及特殊!@#$%^&*符号"))},trigger:"blur"}],mobile:[{validator:function(e,t,s){""===t?s(new Error("手机号不能为空!")):/^1[34578]\d{9}$/.test(t)?s():s(new Error("手机格式不正确"))},trigger:"blur"}]}}},methods:{fnPopShow:function(e){var t=this;this.pop_show=!0;var s=localStorage.token;this.axios.get(i.apis+"/permission/admins/"+e+"/",{headers:{Authorization:"JWT "+s},responseType:"json"}).then(function(s){t.edit_id=e,t.adminForm.username=s.data.username,t.adminForm.password=s.data.password,t.adminForm.mobile=s.data.mobile,t.adminForm.email=s.data.email,t.adminForm.listval=s.data.groups,t.adminForm.listval2=s.data.user_permissions}).catch(function(e){console.log(e.response)})},fnDelAdmin:function(e){var t=this;this.edit_id=e,this.$confirm("此操作将删除该管理员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e=localStorage.token;t.axios.delete(i.apis+"/permission/admins/"+t.edit_id+"/",{headers:{Authorization:"JWT "+e},responseType:"json"}).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.$emit("fnResetTable")}).catch(function(e){404==e.response.status&&t.$message({type:"info",message:"管理员未找到！"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},fnGetPower:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/permission/simple/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){for(var s=t.data,o=[],a=0;a<s.length;a++)o.push({key:s[a].id,label:s[a].name});e.adminForm.list2=o}).catch(function(e){console.log(e)})},fnGetGroup:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/permission/groups/simple/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){for(var s=t.data,o=[],a=0;a<s.length;a++)o.push({key:s[a].id,label:s[a].name});e.adminForm.list=o}).catch(function(e){console.log(e)})},submitForm:function(){var e=this,t=localStorage.token;this.axios.put(i.apis+"/permission/admins/"+this.edit_id+"/",{username:this.adminForm.username,password:this.adminForm.password,mobile:this.adminForm.mobile,email:this.adminForm.email,groups:this.adminForm.listval,user_permissions:this.adminForm.listval2},{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.$message({type:"success",message:"管理员信息修改成功!"}),e.pop_show=!1,e.resetForm("adminForm"),e.$emit("fnResetTable")}).catch(function(e){console.log(e.response)})},resetForm:function(e){this.$refs[e].resetFields()}},mounted:function(){this.fnGetPower(),this.fnGetGroup()}}),ue={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"group_table_wrap"},[s("el-table",{staticStyle:{width:"95.2%",margin:"0px auto"},attrs:{data:e.admins,border:"",size:"medium"}},[s("el-table-column",{attrs:{prop:"id",label:"id","min-width":"10"}}),e._v(" "),s("el-table-column",{attrs:{prop:"username",label:"用户名","min-width":"25"}}),e._v(" "),s("el-table-column",{attrs:{prop:"email",label:"邮箱","min-width":"25"}}),e._v(" "),s("el-table-column",{attrs:{prop:"mobile",label:"手机号","min-width":"25"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作","min-width":"25"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return e.fnPopShow(t.row.id)}}},[e._v("修改")]),e._v(" "),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.fnDelAdmin(t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),s("el-dialog",{attrs:{title:"管理员信息修改",visible:e.pop_show,"append-to-body":"",width:"95%"},on:{"update:visible":function(t){e.pop_show=t}}},[s("el-form",{ref:"adminForm",attrs:{model:e.adminForm,inline:!0,"status-icon":"",rules:e.rulesAdminForm,"label-width":"70px"}},[s("el-form-item",{attrs:{label:"用户名：",prop:"username"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.adminForm.username,callback:function(t){e.$set(e.adminForm,"username",t)},expression:"adminForm.username"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"密码：",prop:"password"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.adminForm.password,callback:function(t){e.$set(e.adminForm,"password",t)},expression:"adminForm.password"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"手机：",prop:"mobile"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.adminForm.mobile,callback:function(t){e.$set(e.adminForm,"mobile",t)},expression:"adminForm.mobile"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"邮箱：",prop:"email"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.adminForm.email,callback:function(t){e.$set(e.adminForm,"email",t)},expression:"adminForm.email"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"用户组："}},[s("el-transfer",{attrs:{data:e.adminForm.list,size:"mini"},model:{value:e.adminForm.listval,callback:function(t){e.$set(e.adminForm,"listval",t)},expression:"adminForm.listval"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"权限："}},[s("el-transfer",{attrs:{data:e.adminForm.list2,size:"mini"},model:{value:e.adminForm.listval2,callback:function(t){e.$set(e.adminForm,"listval2",t)},expression:"adminForm.listval2"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:function(t){return e.resetForm("adminForm")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]};var pe={name:"Admin",data:function(){return{page:1,pages:8,pagesize:10,aAdminList:[]}},components:{BreadCrumb:_,AddAdmin:le,AdminTable:s("VU/8")(ce,ue,!1,function(e){s("Y4GD")},"data-v-3518d222",null).exports},mounted:function(){this.fnGetData(1)},methods:{fnGetData:function(e){var t=this,s=localStorage.token;this.axios.get(i.apis+"/permission/admins/",{headers:{Authorization:"JWT "+s},responseType:"json",params:{page:e,pagesize:this.pagesize}}).then(function(e){t.aAdminList=e.data.lists,t.page=e.data.page,t.pages=e.data.pages}).catch(function(e){console.log(e)})},fnGetPage:function(e){this.page=e,this.fnGetData(this.page)}}},me={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"group_wrap"},[s("BreadCrumb",{attrs:{crumb:"管理员管理"}}),e._v(" "),s("div",{staticClass:"top_bar"},[s("AddAdmin",{on:{fnResetTable:e.fnGetData}})],1),e._v(" "),s("AdminTable",{attrs:{admins:e.aAdminList},on:{fnResetTable:e.fnGetData}}),e._v(" "),s("el-pagination",{staticStyle:{"text-align":"center","margin-top":"10px"},attrs:{background:"",layout:"prev, pager, next","page-count":e.pages,"current-page":e.page},on:{"current-change":e.fnGetPage}})],1)},staticRenderFns:[]};var de=s("VU/8")(pe,me,!1,function(e){s("6eXF")},"data-v-454dfcd9",null).exports,fe=(localStorage.token,{name:"AddUser",data:function(){return{pop_show:!1,skuForm:{name:"",spu_id:"",caption:"",category_id:"",price:"",cost_price:"",market_price:"",stock:"",is_launched:"",specs:{}},category_list:[],goods_list:[],specs_list:[]}},methods:{fnGetCategory:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/skus/categories/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.category_list=t.data}).catch(function(e){console.log(e.response)})},fnGetGoods:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/goods/simple/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.goods_list=t.data}).catch(function(e){console.log(e.response)})},fnGetSpecs:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/goods/"+this.skuForm.spu_id+"/specs/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.specs_list=t.data}).catch(function(e){console.log(e.response)})},submitForm:function(){var e=this,t=[];for(var s in this.skuForm.specs)t.push({spec_id:s,option_id:this.skuForm.specs[s]});var o=localStorage.token;this.axios.post(i.apis+"/skus/",{name:this.skuForm.name,spu_id:this.skuForm.spu_id,caption:this.skuForm.caption,category_id:this.skuForm.category_id,price:this.skuForm.price,cost_price:this.skuForm.cost_price,market_price:this.skuForm.market_price,stock:this.skuForm.stock,is_launched:this.skuForm.is_launched,specs:t},{headers:{Authorization:"JWT "+o},responseType:"json"}).then(function(t){201==t.status&&(e.$message({type:"success",message:"商品添加成功!"}),e.pop_show=!1,e.skuForm.name="",e.skuForm.spu_id="",e.skuForm.caption="",e.skuForm.category_id="",e.skuForm.price="",e.skuForm.cost_price="",e.skuForm.market_price="",e.skuForm.stock="",e.skuForm.is_launched="",e.skuForm.specs={},e.$emit("fnResetTable"))}).catch(function(t){400==t.response.status&&e.$message({type:"info",message:t.response.data.name[0]})})},resetForm:function(){this.skuForm.name="",this.skuForm.spu_id="",this.skuForm.caption="",this.skuForm.category_id="",this.skuForm.price="",this.skuForm.cost_price="",this.skuForm.market_price="",this.skuForm.stock="",this.skuForm.is_launched="",this.skuForm.specs={}}},computed:{look_good_id:function(){return this.skuForm.spu_id}},mounted:function(){this.fnGetCategory(),this.fnGetGoods()},watch:{look_good_id:function(e,t){this.fnGetSpecs()}}}),he={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"add_user_wrap"},[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.pop_show=!0}}},[e._v("新增商品")]),e._v(" "),s("el-dialog",{attrs:{title:"新增商品",visible:e.pop_show,"append-to-body":"",width:"60%"},on:{"update:visible":function(t){e.pop_show=t}}},[s("el-form",{ref:"userForm",attrs:{model:e.skuForm,inline:!0,"status-icon":"","label-width":"100px"}},[s("el-form-item",{attrs:{label:"名称:",prop:"name"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.skuForm.name,callback:function(t){e.$set(e.skuForm,"name",t)},expression:"skuForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"副标题:",prop:"caption"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.skuForm.caption,callback:function(t){e.$set(e.skuForm,"caption",t)},expression:"skuForm.caption"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"价格:",prop:"price"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.skuForm.price,callback:function(t){e.$set(e.skuForm,"price",t)},expression:"skuForm.price"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"进价:",prop:"cost_price"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.skuForm.cost_price,callback:function(t){e.$set(e.skuForm,"cost_price",t)},expression:"skuForm.cost_price"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"市场价:",prop:"market_price"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.skuForm.market_price,callback:function(t){e.$set(e.skuForm,"market_price",t)},expression:"skuForm.market_price"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"库存:",prop:"stock"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.skuForm.stock,callback:function(t){e.$set(e.skuForm,"stock",t)},expression:"skuForm.stock"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"分类:",prop:"category_id"}},[s("el-select",{attrs:{size:"small"},model:{value:e.skuForm.category_id,callback:function(t){e.$set(e.skuForm,"category_id",t)},expression:"skuForm.category_id"}},e._l(e.category_list,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"上下架:",prop:"is_launched"}},[s("el-radio",{attrs:{label:"true"},model:{value:e.skuForm.is_launched,callback:function(t){e.$set(e.skuForm,"is_launched",t)},expression:"skuForm.is_launched"}},[e._v("是")]),e._v(" "),s("el-radio",{attrs:{label:"false"},model:{value:e.skuForm.is_launched,callback:function(t){e.$set(e.skuForm,"is_launched",t)},expression:"skuForm.is_launched"}},[e._v("否")])],1),e._v(" "),s("el-form-item",{attrs:{label:"SPU",prop:"spu_id"}},[s("el-select",{attrs:{size:"small"},on:{change:function(t){e.skuForm.specs={}}},model:{value:e.skuForm.spu_id,callback:function(t){e.$set(e.skuForm,"spu_id",t)},expression:"skuForm.spu_id"}},e._l(e.goods_list,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),e._l(e.specs_list,function(t){return s("el-form-item",{key:t.id,attrs:{label:t.name}},[s("el-select",{attrs:{size:"small"},model:{value:e.skuForm.specs[t.id],callback:function(s){e.$set(e.skuForm.specs,t.id,s)},expression:"skuForm.specs[item.id]"}},e._l(t.options,function(e){return s("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})}),1)],1)}),s("br"),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:e.resetForm}},[e._v("重置")])],1)],2)],1)],1)},staticRenderFns:[]};var _e=s("VU/8")(fe,he,!1,function(e){s("7M60")},"data-v-65511510",null).exports,ge=(localStorage.token,{name:"SkuTable",props:["skus"],data:function(){return{pop_show:!1,edit_id:"",skuForm:{name:"",spu_id:"",caption:"",category_id:"",price:"",cost_price:"",market_price:"",stock:"",is_launched:"",specs:{}},category_list:[],goods_list:[],specs_list:[]}},methods:{fnGetCategory:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/skus/categories/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.category_list=t.data}).catch(function(e){console.log(e.response)})},fnGetGoods:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/goods/simple/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.goods_list=t.data}).catch(function(e){console.log(e.response)})},fnGetSpecs:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/goods/"+this.skuForm.spu_id+"/specs/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.specs_list=t.data}).catch(function(e){console.log(e.response)})},fnPopShow:function(e,t){var s=this,o=localStorage.token;this.axios.get(i.apis+"/goods/"+t+"/specs/",{headers:{Authorization:"JWT "+o},responseType:"json"}).then(function(t){s.specs_list=t.data;var o=localStorage.token;s.axios.get(i.apis+"/skus/"+e+"/",{headers:{Authorization:"JWT "+o},responseType:"json"}).then(function(e){s.edit_id=e.data.id,s.skuForm.name=e.data.name,s.skuForm.spu_id=e.data.spu_id,s.skuForm.caption=e.data.caption,s.skuForm.category_id=e.data.category_id,s.skuForm.price=e.data.price,s.skuForm.cost_price=e.data.cost_price,s.skuForm.market_price=e.data.market_price,s.skuForm.stock=e.data.stock,s.skuForm.is_launched=e.data.is_launched;for(var t={},o=0;o<e.data.specs.length;o++)t[e.data.specs[o].spec_id]=e.data.specs[o].option_id;s.skuForm.specs=t,s.pop_show=!0}).catch(function(e){console.log(e.response)})}).catch(function(e){console.log(e.response)})},submitForm:function(){var e=this,t=[];for(var s in this.skuForm.specs)t.push({spec_id:s,option_id:this.skuForm.specs[s]});var o=localStorage.token;this.axios.put(i.apis+"/skus/"+this.edit_id+"/",{name:this.skuForm.name,spu_id:this.skuForm.spu_id,caption:this.skuForm.caption,category_id:this.skuForm.category_id,price:this.skuForm.price,cost_price:this.skuForm.cost_price,market_price:this.skuForm.market_price,stock:this.skuForm.stock,is_launched:this.skuForm.is_launched,specs:t},{headers:{Authorization:"JWT "+o},responseType:"json"}).then(function(t){console.log(t),e.$message({type:"success",message:"商品修改成功!"}),e.pop_show=!1,e.$emit("fnResetTable")}).catch(function(t){400==t.response.status&&e.$message({type:"info",message:t.response.data.name[0]})})},fnDelSku:function(e){var t=this;this.edit_id=e,this.$confirm("此操作将删除该商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e=localStorage.token;t.axios.delete(i.apis+"/skus/"+t.edit_id+"/",{headers:{Authorization:"JWT "+e},responseType:"json"}).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.$emit("fnResetTable")}).catch(function(e){404==e.response.status&&t.$message({type:"info",message:"商品未找到！"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}},computed:{look_good_id:function(){return this.skuForm.spu_id}},watch:{look_good_id:function(e,t){this.fnGetSpecs()}},mounted:function(){this.fnGetCategory(),this.fnGetGoods()}}),ve={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sku_con"},[s("el-table",{staticStyle:{width:"95.2%",margin:"0px auto"},attrs:{data:e.skus,border:"",size:"medium"}},[s("el-table-column",{attrs:{prop:"id",label:"id",width:"100"}}),e._v(" "),s("el-table-column",{attrs:{prop:"name",label:"商品SKU名"}}),e._v(" "),s("el-table-column",{attrs:{prop:"price",label:"价格"}}),e._v(" "),s("el-table-column",{attrs:{prop:"stock",label:"库存"}}),e._v(" "),s("el-table-column",{attrs:{prop:"sales",label:"销量"}}),e._v(" "),s("el-table-column",{attrs:{prop:"category",label:"分类"}}),e._v(" "),s("el-table-column",{attrs:{label:"上下架"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.is_launched?"上架":"下架"))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return e.fnPopShow(t.row.id,t.row.spu_id)}}},[e._v("修改")]),e._v(" "),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.fnDelSku(t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),s("el-dialog",{attrs:{title:"修改商品",visible:e.pop_show,"append-to-body":"",width:"60%"},on:{"update:visible":function(t){e.pop_show=t}}},[s("el-form",{ref:"userForm",attrs:{model:e.skuForm,inline:!0,"status-icon":"","label-width":"100px"}},[s("el-form-item",{attrs:{label:"名称:",prop:"name"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.skuForm.name,callback:function(t){e.$set(e.skuForm,"name",t)},expression:"skuForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"副标题:",prop:"caption"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.skuForm.caption,callback:function(t){e.$set(e.skuForm,"caption",t)},expression:"skuForm.caption"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"价格:",prop:"price"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.skuForm.price,callback:function(t){e.$set(e.skuForm,"price",t)},expression:"skuForm.price"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"进价:",prop:"cost_price"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.skuForm.cost_price,callback:function(t){e.$set(e.skuForm,"cost_price",t)},expression:"skuForm.cost_price"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"市场价:",prop:"market_price"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.skuForm.market_price,callback:function(t){e.$set(e.skuForm,"market_price",t)},expression:"skuForm.market_price"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"库存:",prop:"stock"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.skuForm.stock,callback:function(t){e.$set(e.skuForm,"stock",t)},expression:"skuForm.stock"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"分类:",prop:"category_id"}},[s("el-select",{attrs:{size:"small"},model:{value:e.skuForm.category_id,callback:function(t){e.$set(e.skuForm,"category_id",t)},expression:"skuForm.category_id"}},e._l(e.category_list,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"上下架:",prop:"is_launched"}},[s("el-radio",{attrs:{label:!0},model:{value:e.skuForm.is_launched,callback:function(t){e.$set(e.skuForm,"is_launched",t)},expression:"skuForm.is_launched"}},[e._v("是")]),e._v(" "),s("el-radio",{attrs:{label:!1},model:{value:e.skuForm.is_launched,callback:function(t){e.$set(e.skuForm,"is_launched",t)},expression:"skuForm.is_launched"}},[e._v("否")])],1),e._v(" "),s("el-form-item",{attrs:{label:"SPU",prop:"spu_id"}},[s("el-select",{attrs:{size:"small"},on:{change:function(t){e.skuForm.specs={}}},model:{value:e.skuForm.spu_id,callback:function(t){e.$set(e.skuForm,"spu_id",t)},expression:"skuForm.spu_id"}},e._l(e.goods_list,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),e._l(e.specs_list,function(t){return s("el-form-item",{key:t.id,attrs:{label:t.name}},[s("el-select",{attrs:{size:"small"},model:{value:e.skuForm.specs[t.id],callback:function(s){e.$set(e.skuForm.specs,t.id,s)},expression:"skuForm.specs[item.id]"}},e._l(t.options,function(e){return s("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})}),1)],1)}),s("br"),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:function(t){e.pop_show=!1}}},[e._v("取消")])],1)],2)],1)],1)},staticRenderFns:[]};var be={name:"Sku",data:function(){return{keyword:"",page:1,pages:8,pagesize:10,aSkuList:[]}},components:{BreadCrumb:_,AddSku:_e,SkuTable:s("VU/8")(ge,ve,!1,function(e){s("Rp8b")},null,null).exports},mounted:function(){this.fnGetData(1)},methods:{fnGetData:function(e){var t=this,s=localStorage.token;this.axios.get(i.apis+"/skus/",{headers:{Authorization:"JWT "+s},responseType:"json",params:{page:e,pagesize:this.pagesize,keyword:this.keyword}}).then(function(e){t.aSkuList=e.data.lists,t.page=e.data.page,t.pages=e.data.pages}).catch(function(e){console.log(e)})},fnGetKey:function(e){this.keyword=e,this.fnGetData(1)},fnGetPage:function(e){this.page=e,this.fnGetData(this.page)}}},Fe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user_wrap"},[s("BreadCrumb",{attrs:{crumb:"sku管理"}}),e._v(" "),s("div",{staticClass:"top_bar"},[s("el-row",[s("el-col",{attrs:{span:8}},[s("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入搜索内容",size:"small"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}},[s("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.fnGetData(1)}},slot:"append"})],1)],1),e._v(" "),s("el-col",{attrs:{span:8,offset:8}},[s("AddSku",{staticClass:"pull-right",on:{fnSetKey:e.fnGetKey}})],1)],1)],1),e._v(" "),s("SkuTable",{attrs:{skus:e.aSkuList},on:{fnResetTable:function(t){return e.fnGetData(1)}}}),e._v(" "),s("el-pagination",{staticStyle:{"text-align":"center","margin-top":"10px"},attrs:{background:"",layout:"prev, pager, next","page-count":e.pages,"current-page":e.page},on:{"current-change":e.fnGetPage}})],1)},staticRenderFns:[]};var ye=s("VU/8")(be,Fe,!1,function(e){s("/Sdc")},"data-v-50cee9e3",null).exports,ke=(localStorage.token,{name:"SkuTable",props:["spus"],data:function(){return{edit_id:""}},methods:{fnDelSpu:function(e){var t=this;this.edit_id=e,this.$confirm("此操作将删除该SPU, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e=localStorage.token;t.axios.delete(i.apis+"/goods/"+t.edit_id+"/",{headers:{Authorization:"JWT "+e},responseType:"json"}).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.$emit("fnResetTable")}).catch(function(e){404==e.response.status&&t.$message({type:"info",message:"商品未找到！"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}}}),we={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sku_con"},[s("el-table",{staticStyle:{width:"95.2%",margin:"0px auto"},attrs:{data:e.spus,border:"",size:"medium"}},[s("el-table-column",{attrs:{prop:"id",label:"id",width:"100"}}),e._v(" "),s("el-table-column",{attrs:{prop:"name",label:"SPU名称"}}),e._v(" "),s("el-table-column",{attrs:{prop:"brand",label:"品牌名称"}}),e._v(" "),s("el-table-column",{attrs:{prop:"brand_id",label:"品牌id"}}),e._v(" "),s("el-table-column",{attrs:{prop:"category1_id",label:"一级分类id"}}),e._v(" "),s("el-table-column",{attrs:{prop:"category2_id",label:"二级分类id"}}),e._v(" "),s("el-table-column",{attrs:{prop:"category3_id",label:"三级分类id"}}),e._v(" "),s("el-table-column",{attrs:{prop:"sales",label:"SPU商品销量"}}),e._v(" "),s("el-table-column",{attrs:{prop:"comments",label:"SPU商品评论量"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini"}},[s("router-link",{attrs:{to:{name:"SpuEdit",params:{sEdit_id:t.row.id}}}},[e._v("修改")])],1),e._v(" "),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.fnDelSpu(t.row.id)}}},[e._v("删除")])]}}])})],1)],1)},staticRenderFns:[]};var xe={name:"Spu",data:function(){return{page:1,pages:8,pagesize:10,aSpuList:[]}},components:{BreadCrumb:_,SpuTable:s("VU/8")(ke,we,!1,function(e){s("RBd2")},null,null).exports},mounted:function(){this.fnGetData(1)},methods:{fnGetData:function(e){var t=this,s=localStorage.token;this.axios.get(i.apis+"/goods/",{headers:{Authorization:"JWT "+s},responseType:"json",params:{page:e,pagesize:this.pagesize}}).then(function(e){t.aSpuList=e.data.lists,t.page=e.data.page,t.pages=e.data.pages}).catch(function(e){console.log(e)})},fnGetPage:function(e){this.page=e,this.fnGetData(this.page)}}},Se={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"spu_wrap"},[s("BreadCrumb",{attrs:{crumb:"spu管理"}}),e._v(" "),s("div",{staticClass:"top_bar"},[s("el-button",{staticClass:"pull-right",attrs:{type:"primary"}},[s("router-link",{attrs:{to:"/home/spuadd"}},[e._v("新增spu")])],1)],1),e._v(" "),s("SpuTable",{attrs:{spus:e.aSpuList},on:{fnResetTable:e.fnGetData}}),e._v(" "),s("el-pagination",{staticStyle:{"text-align":"center","margin-top":"10px"},attrs:{background:"",layout:"prev, pager, next","page-count":e.pages,"current-page":e.page},on:{"current-change":e.fnGetPage}})],1)},staticRenderFns:[]};var Te=s("VU/8")(xe,Se,!1,function(e){s("6tr4")},"data-v-27a9b961",null).exports,$e=(localStorage.token,{name:"AddUser",data:function(){return{pop_show:!1,goods_list:[],specsForm:{name:"",goods_id:""},rulesSpecsForm:{name:[{validator:function(e,t,s){""===t?s(new Error("规格名不能为空")):s()},trigger:"blur"}]}}},methods:{submitForm:function(){var e=this,t=localStorage.token;this.axios.post(i.apis+"/goods/specs/",{name:this.specsForm.name,spu_id:this.specsForm.goods_id},{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){201==t.status&&(e.$message({type:"success",message:"添加规格成功!"}),e.pop_show=!1,e.$emit("fnResetTable"),e.resetForm("spcesForm"))}).catch(function(t){if(400==t.response.status){var s=t.response.data;s.name&&e.$message({type:"info",message:s.name[0]}),s.non_field_errors&&e.$message({type:"info",message:s.non_field_errors[0]})}})},fnGetGoods:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/goods/simple/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.goods_list=t.data}).catch(function(e){console.log(e.response)})},resetForm:function(e){this.$refs[e].resetFields()}},mounted:function(){this.fnGetGoods()}}),Ce={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"add_user_wrap"},[s("el-button",{staticClass:"pull-right",attrs:{type:"primary",size:"small"},on:{click:function(t){e.pop_show=!0}}},[e._v("新增规格")]),e._v(" "),s("el-dialog",{attrs:{title:"新增规格",visible:e.pop_show,"append-to-body":""},on:{"update:visible":function(t){e.pop_show=t}}},[s("el-form",{ref:"spcesForm",attrs:{model:e.specsForm,"status-icon":"",rules:e.rulesSpecsForm,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"规格名称：",prop:"name"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.specsForm.name,callback:function(t){e.$set(e.specsForm,"name",t)},expression:"specsForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"SPU：",prop:"goods_id"}},[s("el-select",{attrs:{size:"small"},model:{value:e.specsForm.goods_id,callback:function(t){e.$set(e.specsForm,"goods_id",t)},expression:"specsForm.goods_id"}},e._l(e.goods_list,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:function(t){return e.resetForm("specsForm")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]},ze=s("VU/8")($e,Ce,!1,null,null,null).exports,Ge=(localStorage.token,{name:"AuthorityTable",props:["specs"],data:function(){return{pop_show:!1,edit_id:"",goods_list:[],specsForm:{name:"",spu_id:""},rulesSpecsForm:{name:[{validator:function(e,t,s){""===t?s(new Error("规格名不能为空")):s()},trigger:"blur"}]}}},methods:{fnPopShow:function(e){var t=this;this.pop_show=!0,this.edit_id=e;var s=localStorage.token;this.axios.get(i.apis+"/goods/specs/"+this.edit_id+"/",{headers:{Authorization:"JWT "+s},responseType:"json"}).then(function(e){t.specsForm.name=e.data.name,t.specsForm.spu_id=e.data.spu_id}).catch(function(e){console.log(e.response)})},submitForm:function(){var e=this,t=localStorage.token;this.axios.put(i.apis+"/goods/specs/"+this.edit_id+"/",{name:this.specsForm.name,spu_id:this.specsForm.spu_id},{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.$message({type:"success",message:"修改规格成功!"}),e.pop_show=!1,e.$emit("fnResetTable"),e.resetForm("specsForm")}).catch(function(e){console.log(e.response)})},fnDelSpecs:function(e){var t=this;this.edit_id=e,this.$confirm("此操作将删除该规格, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e=localStorage.token;t.axios.delete(i.apis+"/goods/specs/"+t.edit_id+"/",{headers:{Authorization:"JWT "+e},responseType:"json"}).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.$emit("fnResetTable")}).catch(function(e){404==e.response.status&&t.$message({type:"info",message:"规格未找到！"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},fnGetGoods:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/goods/simple/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.goods_list=t.data}).catch(function(e){console.log(e.response)})},resetForm:function(e){this.$refs[e].resetFields()}},mounted:function(){this.fnGetGoods()}}),Ae={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"auther_table_wrap"},[s("el-table",{staticStyle:{width:"95.2%",margin:"0px auto"},attrs:{data:e.specs,border:"",size:"medium"}},[s("el-table-column",{attrs:{prop:"id",label:"id",width:"100"}}),e._v(" "),s("el-table-column",{attrs:{prop:"name",label:"规格名称"}}),e._v(" "),s("el-table-column",{attrs:{prop:"spu",label:"SPU商品名称"}}),e._v(" "),s("el-table-column",{attrs:{prop:"spu_id",label:"SPU商品id"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return e.fnPopShow(t.row.id)}}},[e._v("编辑")]),e._v(" "),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.fnDelSpecs(t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),s("el-dialog",{attrs:{title:"修改规格",visible:e.pop_show,"append-to-body":""},on:{"update:visible":function(t){e.pop_show=t}}},[s("el-form",{ref:"specsForm",attrs:{model:e.specsForm,"status-icon":"",rules:e.rulesSpecsForm,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"规格名称：",prop:"name"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.specsForm.name,callback:function(t){e.$set(e.specsForm,"name",t)},expression:"specsForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"SPU：",prop:"spu_id"}},[s("el-select",{attrs:{size:"small"},model:{value:e.specsForm.spu_id,callback:function(t){e.$set(e.specsForm,"spu_id",t)},expression:"specsForm.spu_id"}},e._l(e.goods_list,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:function(t){return e.resetForm("specsForm")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]};var Pe={name:"Specs",data:function(){return{page:1,pages:8,pagesize:10,aSpecsList:[]}},components:{BreadCrumb:_,AddSpecs:ze,SpecsTable:s("VU/8")(Ge,Ae,!1,function(e){s("nIhh")},null,null).exports},mounted:function(){this.fnGetData(1)},methods:{fnGetData:function(e){var t=this,s=localStorage.token;this.axios.get(i.apis+"/goods/specs/",{headers:{Authorization:"JWT "+s},responseType:"json",params:{page:e,pagesize:this.pagesize}}).then(function(e){t.aSpecsList=e.data.lists,t.page=e.data.page,t.pages=e.data.pages}).catch(function(e){console.log(e)})},fnGetPage:function(e){this.page=e,this.fnGetData(this.page)}}},Be={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"specs_wrap"},[s("BreadCrumb",{attrs:{crumb:"商品规格管理"}}),e._v(" "),s("div",{staticClass:"top_bar"},[s("AddSpecs",{on:{fnResetTable:function(t){return e.fnGetData(1)}}})],1),e._v(" "),s("SpecsTable",{attrs:{specs:e.aSpecsList},on:{fnResetTable:function(t){return e.fnGetData(1)}}}),e._v(" "),s("el-pagination",{staticStyle:{"text-align":"center","margin-top":"10px"},attrs:{background:"",layout:"prev, pager, next","page-count":e.pages,"current-page":e.page},on:{"current-change":e.fnGetPage}})],1)},staticRenderFns:[]};var Re=s("VU/8")(Pe,Be,!1,function(e){s("gb6p")},"data-v-5aa4e7fc",null).exports,je=(localStorage.token,{name:"AddOption",data:function(){return{pop_show:!1,specs_list:[],optionsForm:{name:"",specs_id:""},rulesoptionsForm:{name:[{validator:function(e,t,s){""===t?s(new Error("选项名不能为空")):s()},trigger:"blur"}]}}},methods:{submitForm:function(){var e=this,t=localStorage.token;this.axios.post(i.apis+"/specs/options/",{value:this.optionsForm.name,spec_id:this.optionsForm.specs_id},{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){201==t.status&&(e.$message({type:"success",message:"添加选项成功!"}),e.pop_show=!1,e.resetForm("optionsForm"),e.$emit("fnResetTable"))}).catch(function(t){if(400==t.response.status){var s=t.response.data;s.name&&e.$message({type:"info",message:s.name[0]}),s.non_field_errors&&e.$message({type:"info",message:s.non_field_errors[0]})}})},fnGetSpecs:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/goods/specs/simple/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.specs_list=t.data}).catch(function(e){console.log(e.response)})},resetForm:function(e){this.$refs[e].resetFields()}},mounted:function(){this.fnGetSpecs()}}),Je={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"add_options_wrap"},[s("el-button",{staticClass:"pull-right",attrs:{type:"primary",size:"small"},on:{click:function(t){e.pop_show=!0}}},[e._v("新增规格选项")]),e._v(" "),s("el-dialog",{attrs:{title:"新增规格选项",visible:e.pop_show,"append-to-body":""},on:{"update:visible":function(t){e.pop_show=t}}},[s("el-form",{ref:"optionsForm",attrs:{model:e.optionsForm,"status-icon":"",rules:e.rulesoptionsForm,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"选项名称：",prop:"name"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.optionsForm.name,callback:function(t){e.$set(e.optionsForm,"name",t)},expression:"optionsForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"规格：",prop:"goods_id"}},[s("el-select",{attrs:{size:"small"},model:{value:e.optionsForm.specs_id,callback:function(t){e.$set(e.optionsForm,"specs_id",t)},expression:"optionsForm.specs_id"}},e._l(e.specs_list,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:function(t){return e.resetForm("optionsForm")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]},We=s("VU/8")(je,Je,!1,null,null,null).exports,Ee=(localStorage.token,{name:"OptionsTable",props:["options"],data:function(){return{pop_show:!1,edit_id:"",specs_list:[],optionsForm:{name:"",spec_id:""},rulesSpecsForm:{name:[{validator:function(e,t,s){""===t?s(new Error("规格名不能为空")):s()},trigger:"blur"}]}}},methods:{fnPopShow:function(e){var t=this;this.pop_show=!0,this.edit_id=e;var s=localStorage.token;this.axios.get(i.apis+"/specs/options/"+this.edit_id+"/",{headers:{Authorization:"JWT "+s},responseType:"json"}).then(function(e){t.optionsForm.name=e.data.value,t.optionsForm.spec_id=e.data.spec_id}).catch(function(e){console.log(e.response)})},submitForm:function(){var e=this,t=localStorage.token;this.axios.put(i.apis+"/specs/options/"+this.edit_id+"/",{value:this.optionsForm.name,spec_id:this.optionsForm.spec_id},{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.$message({type:"success",message:"修改规格选项成功!"}),e.pop_show=!1,e.$emit("fnResetTable"),e.resetForm("optionsForm")}).catch(function(e){console.log(e.response)})},fnDelSpecs:function(e){var t=this;this.edit_id=e,this.$confirm("此操作将删除该规格选项, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e=localStorage.token;t.axios.delete(i.apis+"/specs/options/"+t.edit_id+"/",{headers:{Authorization:"JWT "+e},responseType:"json"}).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.$emit("fnResetTable")}).catch(function(e){404==e.response.status&&t.$message({type:"info",message:"权限未找到！"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},fnGetSpecs:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/goods/specs/simple/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.specs_list=t.data}).catch(function(e){console.log(e.response)})},resetForm:function(e){this.$refs[e].resetFields()}},mounted:function(){this.fnGetSpecs()}}),Ue={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"auther_table_wrap"},[s("el-table",{staticStyle:{width:"95.2%",margin:"0px auto"},attrs:{data:e.options,border:"",size:"medium"}},[s("el-table-column",{attrs:{prop:"id",label:"id",width:"100"}}),e._v(" "),s("el-table-column",{attrs:{prop:"value",label:"规格选项名称"}}),e._v(" "),s("el-table-column",{attrs:{prop:"spec_id",label:"规格id"}}),e._v(" "),s("el-table-column",{attrs:{prop:"spec",label:"规格名称"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return e.fnPopShow(t.row.id)}}},[e._v("编辑")]),e._v(" "),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.fnDelSpecs(t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),s("el-dialog",{attrs:{title:"修改规格",visible:e.pop_show,"append-to-body":""},on:{"update:visible":function(t){e.pop_show=t}}},[s("el-form",{ref:"optionsForm",attrs:{model:e.optionsForm,"status-icon":"",rules:e.rulesSpecsForm,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"规格名称：",prop:"name"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.optionsForm.name,callback:function(t){e.$set(e.optionsForm,"name",t)},expression:"optionsForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"规格：",prop:"spec_id"}},[s("el-select",{attrs:{size:"small"},model:{value:e.optionsForm.spec_id,callback:function(t){e.$set(e.optionsForm,"spec_id",t)},expression:"optionsForm.spec_id"}},e._l(e.specs_list,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:function(t){return e.resetForm("optionsForm")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]};var De={name:"Specs",data:function(){return{page:1,pages:8,pagesize:10,aOptionsList:[]}},components:{BreadCrumb:_,AddOptions:We,OptionsTable:s("VU/8")(Ee,Ue,!1,function(e){s("nEEv")},null,null).exports},mounted:function(){this.fnGetData(1)},methods:{fnGetData:function(e){var t=this,s=localStorage.token;this.axios.get(i.apis+"/specs/options/",{headers:{Authorization:"JWT "+s},responseType:"json",params:{page:e,pagesize:this.pagesize}}).then(function(e){t.aOptionsList=e.data.lists,t.page=e.data.page,t.pages=e.data.pages}).catch(function(e){console.log(e)})},fnGetPage:function(e){this.page=e,this.fnGetData(this.page)}}},Le={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"options_wrap"},[s("BreadCrumb",{attrs:{crumb:"规格选项管理"}}),e._v(" "),s("div",{staticClass:"top_bar"},[s("AddOptions",{on:{fnResetTable:e.fnGetData}})],1),e._v(" "),s("OptionsTable",{attrs:{options:e.aOptionsList},on:{fnResetTable:e.fnGetData}}),e._v(" "),s("el-pagination",{staticStyle:{"text-align":"center","margin-top":"10px"},attrs:{background:"",layout:"prev, pager, next","page-count":e.pages,"current-page":e.page},on:{"current-change":e.fnGetPage}})],1)},staticRenderFns:[]};var Ve=s("VU/8")(De,Le,!1,function(e){s("6fbd")},"data-v-913f538a",null).exports,Oe=(localStorage.token,{name:"AddChannels",data:function(){return{pop_show:!1,group_type_list:[],category_list:[],ChannelsForm:{group_id:"",category_id:"",url:"",sequence:""},rulesChannelsForm:{}}},methods:{submitForm:function(){var e=this,t=localStorage.token;this.axios.post(i.apis+"/goods/channels/",{group_id:this.ChannelsForm.group_id,category_id:this.ChannelsForm.category_id,url:this.ChannelsForm.url,sequence:this.ChannelsForm.sequence},{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){201==t.status&&(e.$message({type:"success",message:"频道添加成功!"}),e.pop_show=!1,e.resetForm("ChannelsForm"),e.$emit("fnResetTable"))}).catch(function(t){if(400==t.response.status){var s=t.response.data;s.name&&e.$message({type:"info",message:s.name[0]}),s.non_field_errors&&e.$message({type:"info",message:s.non_field_errors[0]})}})},fnGetChannelType:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/goods/channel_types/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.group_type_list=t.data}).catch(function(e){console.log(e.response)})},fnGetCategories:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/goods/categories/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.category_list=t.data}).catch(function(e){console.log(e.response)})},resetForm:function(e){this.$refs[e].resetFields()}},mounted:function(){this.fnGetChannelType(),this.fnGetCategories()}}),Me={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"add_channels_wrap"},[s("el-button",{staticClass:"pull-right",attrs:{type:"primary",size:"small"},on:{click:function(t){e.pop_show=!0}}},[e._v("新增频道")]),e._v(" "),s("el-dialog",{attrs:{title:"新增频道",visible:e.pop_show,"append-to-body":""},on:{"update:visible":function(t){e.pop_show=t}}},[s("el-form",{ref:"ChannelsForm",attrs:{model:e.ChannelsForm,"status-icon":"",rules:e.rulesChannelsForm,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"频道组：",prop:"group_id"}},[s("el-select",{attrs:{size:"small"},model:{value:e.ChannelsForm.group_id,callback:function(t){e.$set(e.ChannelsForm,"group_id",t)},expression:"ChannelsForm.group_id"}},e._l(e.group_type_list,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"一级分类：",prop:"category_id"}},[s("el-select",{attrs:{size:"small"},model:{value:e.ChannelsForm.category_id,callback:function(t){e.$set(e.ChannelsForm,"category_id",t)},expression:"ChannelsForm.category_id"}},e._l(e.category_list,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"频道地址：",prop:"url"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.ChannelsForm.url,callback:function(t){e.$set(e.ChannelsForm,"url",t)},expression:"ChannelsForm.url"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"展示顺序：",prop:"sequence"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.ChannelsForm.sequence,callback:function(t){e.$set(e.ChannelsForm,"sequence",t)},expression:"ChannelsForm.sequence"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:function(t){return e.resetForm("ChannelsForm")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]},qe=s("VU/8")(Oe,Me,!1,null,null,null).exports,Ne=(localStorage.token,{name:"OptionsTable",props:["channels"],data:function(){return{pop_show:!1,group_type_list:[],category_list:[],ChannelsForm:{group_id:"",category_id:"",url:"",sequence:""},rulesChannelsForm:{}}},methods:{fnPopShow:function(e){var t=this;this.pop_show=!0,this.edit_id=e;var s=localStorage.token;this.axios.get(i.apis+"/goods/channels/"+this.edit_id+"/",{headers:{Authorization:"JWT "+s},responseType:"json"}).then(function(e){console.log(e),t.ChannelsForm.group_id=e.data.group_id,t.ChannelsForm.category_id=e.data.category_id,t.ChannelsForm.url=e.data.url,t.ChannelsForm.sequence=e.data.sequence}).catch(function(e){console.log(e.response)})},submitForm:function(){var e=this,t=localStorage.token;this.axios.put(i.apis+"/goods/channels/"+this.edit_id+"/",{group_id:this.ChannelsForm.group_id,category_id:this.ChannelsForm.category_id,url:this.ChannelsForm.url,sequence:this.ChannelsForm.sequence},{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.$message({type:"success",message:"频道修改成功!"}),e.pop_show=!1,e.resetForm("ChannelsForm"),e.$emit("fnResetTable")}).catch(function(e){console.log(e.response)})},fnDelChannel:function(e){var t=this;this.edit_id=e,this.$confirm("此操作将删除该频道, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e=localStorage.token;t.axios.delete(i.apis+"/goods/channels/"+t.edit_id+"/",{headers:{Authorization:"JWT "+e},responseType:"json"}).then(function(e){t.$message({type:"success",message:"删除频道成功!"}),t.$emit("fnResetTable")}).catch(function(e){404==e.response.status&&t.$message({type:"info",message:"频道未找到！"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},fnGetChannelType:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/goods/channel_types/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.group_type_list=t.data}).catch(function(e){console.log(e.response)})},fnGetCategories:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/goods/categories/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.category_list=t.data}).catch(function(e){console.log(e.response)})},resetForm:function(e){this.$refs[e].resetFields()}},mounted:function(){this.fnGetChannelType(),this.fnGetCategories()}}),Ke={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"auther_table_wrap"},[s("el-table",{staticStyle:{width:"95.2%",margin:"0px auto"},attrs:{data:e.channels,border:"",size:"medium"}},[s("el-table-column",{attrs:{prop:"id",label:"id",width:"100"}}),e._v(" "),s("el-table-column",{attrs:{prop:"category",label:"分类名"}}),e._v(" "),s("el-table-column",{attrs:{prop:"category_id",label:"一级分类id"}}),e._v(" "),s("el-table-column",{attrs:{prop:"group",label:"组名"}}),e._v(" "),s("el-table-column",{attrs:{prop:"group_id",label:"组id"}}),e._v(" "),s("el-table-column",{attrs:{prop:"sequence",label:"展示顺序"}}),e._v(" "),s("el-table-column",{attrs:{prop:"url",label:"频道地址",width:"160"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return e.fnPopShow(t.row.id)}}},[e._v("编辑")]),e._v(" "),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.fnDelChannel(t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),s("el-dialog",{attrs:{title:"修改频道",visible:e.pop_show,"append-to-body":""},on:{"update:visible":function(t){e.pop_show=t}}},[s("el-form",{ref:"ChannelsForm",attrs:{model:e.ChannelsForm,"status-icon":"",rules:e.rulesChannelsForm,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"频道组：",prop:"group_id"}},[s("el-select",{attrs:{size:"small"},model:{value:e.ChannelsForm.group_id,callback:function(t){e.$set(e.ChannelsForm,"group_id",t)},expression:"ChannelsForm.group_id"}},e._l(e.group_type_list,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"一级分类：",prop:"category_id"}},[s("el-select",{attrs:{size:"small"},model:{value:e.ChannelsForm.category_id,callback:function(t){e.$set(e.ChannelsForm,"category_id",t)},expression:"ChannelsForm.category_id"}},e._l(e.category_list,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"频道地址：",prop:"url"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.ChannelsForm.url,callback:function(t){e.$set(e.ChannelsForm,"url",t)},expression:"ChannelsForm.url"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"展示顺序：",prop:"sequence"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.ChannelsForm.sequence,callback:function(t){e.$set(e.ChannelsForm,"sequence",t)},expression:"ChannelsForm.sequence"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:function(t){return e.resetForm("ChannelsForm")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]};var Ie={name:"Channels",data:function(){return{page:1,pages:8,pagesize:10,aChannelsList:[]}},components:{BreadCrumb:_,Addchannels:qe,ChannelsTable:s("VU/8")(Ne,Ke,!1,function(e){s("Ih+2")},null,null).exports},mounted:function(){this.fnGetData(1)},methods:{fnGetData:function(e){var t=this,s=localStorage.token;this.axios.get(i.apis+"/goods/channels/",{headers:{Authorization:"JWT "+s},responseType:"json",params:{page:e,pagesize:this.pagesize}}).then(function(e){console.log(e.data),t.aChannelsList=e.data.lists,t.page=e.data.page,t.pages=e.data.pages}).catch(function(e){console.log(e)})},fnGetPage:function(e){this.page=e,this.fnGetData(this.page)}}},Ze={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"channels_wrap"},[s("BreadCrumb",{attrs:{crumb:"商品频道管理"}}),e._v(" "),s("div",{staticClass:"top_bar"},[s("Addchannels",{on:{fnResetTable:e.fnGetData}})],1),e._v(" "),s("ChannelsTable",{attrs:{channels:e.aChannelsList},on:{fnResetTable:e.fnGetData}}),e._v(" "),s("el-pagination",{staticStyle:{"text-align":"center","margin-top":"10px"},attrs:{background:"",layout:"prev, pager, next","page-count":e.pages,"current-page":e.page},on:{"current-change":e.fnGetPage}})],1)},staticRenderFns:[]};var He=s("VU/8")(Ie,Ze,!1,function(e){s("8LRx")},"data-v-75ab05c0",null).exports,Xe=(localStorage.token,{name:"AddChannels",data:function(){return{pop_show:!1,group_type_list:[],category_list:[],BrandsForm:{name:"",first_letter:""},fileList:[],rulesBrandsForm:{}}},methods:{submitForm:function(){var e=this,t=document.querySelector(".el-upload .el-upload__input"),s=new FormData;s.append("name",this.BrandsForm.name),s.append("first_letter",this.BrandsForm.first_letter),s.append("logo",t.files[0],t.files[0].name);var o=localStorage.token;this.axios.post(i.apis+"/goods/brands/",s,{headers:{Authorization:"JWT "+o,"Content-Type":"multipart/form-data"},responseType:"json"}).then(function(t){201==t.status&&(e.$message({type:"success",message:"品牌添加成功!"}),e.pop_show=!1,e.resetForm("BrandsForm"),e.$emit("fnResetTable"))}).catch(function(e){console.log(e.response)})},fnGetChannelType:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/goods/channel_types/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.group_type_list=t.data}).catch(function(e){console.log(e.response)})},fnGetCategories:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/goods/categories/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.category_list=t.data}).catch(function(e){console.log(e.response)})},resetForm:function(e){this.$refs[e].resetFields(),this.$refs.upload.clearFiles()}},mounted:function(){this.fnGetChannelType(),this.fnGetCategories()}}),Qe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"add_channels_wrap"},[s("el-button",{staticClass:"pull-right",attrs:{type:"primary",size:"small"},on:{click:function(t){e.pop_show=!0}}},[e._v("新增品牌")]),e._v(" "),s("el-dialog",{attrs:{title:"新增品牌",visible:e.pop_show,"append-to-body":""},on:{"update:visible":function(t){e.pop_show=t}}},[s("el-form",{ref:"BrandsForm",attrs:{model:e.BrandsForm,"status-icon":"",rules:e.rulesBrandsForm,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"品牌名称：",prop:"name"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.BrandsForm.name,callback:function(t){e.$set(e.BrandsForm,"name",t)},expression:"BrandsForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"品牌首字母：",prop:"first_letter"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.BrandsForm.first_letter,callback:function(t){e.$set(e.BrandsForm,"first_letter",t)},expression:"BrandsForm.first_letter"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"logo图片",prop:"logo"}},[s("el-upload",{ref:"upload",attrs:{action:"",limit:1,"auto-upload":!1}},[s("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击选择图片")])],1)],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:function(t){return e.resetForm("BrandsForm")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]},Ye=s("VU/8")(Xe,Qe,!1,null,null,null).exports,et=(localStorage.token,{name:"OptionsTable",props:["brands"],data:function(){return{pop_show:!1,group_type_list:[],category_list:[],BrandsForm:{name:"",first_letter:"",logo:""},fileList:[],rulesBrandsForm:{}}},methods:{fnPopShow:function(e){var t=this;this.pop_show=!0,this.edit_id=e;var s=localStorage.token;this.axios.get(i.apis+"/goods/brands/"+this.edit_id+"/",{headers:{Authorization:"JWT "+s},responseType:"json"}).then(function(e){t.BrandsForm.name=e.data.name,t.BrandsForm.logo=e.data.logo,t.BrandsForm.first_letter=e.data.first_letter}).catch(function(e){console.log(e.response)})},submitForm:function(){var e=this,t=document.querySelector(".el-upload .el-upload__input"),s=new FormData;s.append("name",this.BrandsForm.name),s.append("first_letter",this.BrandsForm.first_letter),s.append("logo",t.files[0],t.files[0].name);var o=localStorage.token;this.axios.put(i.apis+"/goods/brands/"+this.edit_id+"/",s,{headers:{Authorization:"JWT "+o},responseType:"json"}).then(function(t){e.$message({type:"success",message:"品牌修改成功!"}),e.pop_show=!1,e.resetForm("BrandsForm"),e.$emit("fnResetTable")}).catch(function(e){console.log(e.response)})},fnDelBrands:function(e){var t=this;this.edit_id=e,this.$confirm("此操作将删除该品牌, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e=localStorage.token;t.axios.delete(i.apis+"/goods/brands/"+t.edit_id+"/",{headers:{Authorization:"JWT "+e},responseType:"json"}).then(function(e){t.$message({type:"success",message:"删除品牌成功!"}),t.$emit("fnResetTable")}).catch(function(e){404==e.response.status&&t.$message({type:"info",message:"频道未找到！"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},resetForm:function(e){this.$refs[e].resetFields(),this.$refs.upload.clearFiles()}},mounted:function(){this.fnGetChannelType(),this.fnGetCategories()}}),tt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"auther_table_wrap"},[s("el-table",{staticStyle:{width:"95.2%",margin:"0px auto"},attrs:{data:e.brands,border:"",size:"medium"}},[s("el-table-column",{attrs:{prop:"id",label:"id",width:"100"}}),e._v(" "),s("el-table-column",{attrs:{prop:"name",label:"品牌名称"}}),e._v(" "),s("el-table-column",{attrs:{label:"logo图片地址"},scopedSlots:e._u([{key:"default",fn:function(e){return[s("img",{attrs:{src:e.row.logo,width:"102"}})]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"first_letter",label:"品牌首字母"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return e.fnPopShow(t.row.id)}}},[e._v("编辑")]),e._v(" "),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.fnDelBrands(t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),s("el-dialog",{attrs:{title:"修改品牌",visible:e.pop_show,"append-to-body":""},on:{"update:visible":function(t){e.pop_show=t}}},[s("el-form",{ref:"BrandsForm",attrs:{model:e.BrandsForm,"status-icon":"",rules:e.rulesBrandsForm,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"品牌名称：",prop:"name"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.BrandsForm.name,callback:function(t){e.$set(e.BrandsForm,"name",t)},expression:"BrandsForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"品牌首字母：",prop:"first_letter"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.BrandsForm.first_letter,callback:function(t){e.$set(e.BrandsForm,"first_letter",t)},expression:"BrandsForm.first_letter"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"logo图片",prop:"logo"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("img",{attrs:{src:e.BrandsForm.logo,width:"102"}})]}}])}),e._v(" "),s("el-form-item",{attrs:{label:"商品图片",prop:"logo"}},[s("el-upload",{ref:"upload",attrs:{action:"",limit:1,"auto-upload":!1}},[s("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击选择图片")])],1)],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:function(t){e.pop_show=!1}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var st={name:"Brands",data:function(){return{page:1,pages:8,pagesize:10,aBrandsList:[]}},components:{BreadCrumb:_,Addbrands:Ye,BrandsTable:s("VU/8")(et,tt,!1,function(e){s("MZZM")},null,null).exports},mounted:function(){this.fnGetData(1)},methods:{fnGetData:function(e){var t=this,s=localStorage.token;this.axios.get(i.apis+"/goods/brands/",{headers:{Authorization:"JWT "+s},responseType:"json",params:{page:e,pagesize:this.pagesize}}).then(function(e){t.aBrandsList=e.data.lists,t.page=e.data.page,t.pages=e.data.pages}).catch(function(e){console.log(e)})},fnGetPage:function(e){this.page=e,this.fnGetData(this.page)}}},ot={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"brands_wrap"},[s("BreadCrumb",{attrs:{crumb:"品牌管理"}}),e._v(" "),s("div",{staticClass:"top_bar"},[s("Addbrands",{on:{fnResetTable:e.fnGetData}})],1),e._v(" "),s("BrandsTable",{attrs:{brands:e.aBrandsList},on:{fnResetTable:e.fnGetData}}),e._v(" "),s("el-pagination",{staticStyle:{"text-align":"center","margin-top":"10px"},attrs:{background:"",layout:"prev, pager, next","page-count":e.pages,"current-page":e.page},on:{"current-change":e.fnGetPage}})],1)},staticRenderFns:[]};var at=s("VU/8")(st,ot,!1,function(e){s("kVlQ")},"data-v-4fe52f90",null).exports,nt=(localStorage.token,{name:"AddChannels",data:function(){return{pop_show:!1,sku_list:[],PicturesForm:{sku:"",image:""},rulesBrandsForm:{}}},methods:{submitForm:function(){var e=this,t=document.querySelector(".el-upload .el-upload__input"),s=new FormData;s.append("sku",this.PicturesForm.sku),s.append("image",t.files[0],t.files[0].name);var o=localStorage.token;this.axios.post(i.apis+"/skus/images/",s,{headers:{Authorization:"JWT "+o,"Content-Type":"multipart/form-data"},responseType:"json"}).then(function(t){console.log(t),201==t.status&&(e.$message({type:"success",message:"品牌添加成功!"}),e.pop_show=!1,e.$emit("fnResetTable"),e.resetForm("ChannelsForm"))}).catch(function(e){console.log(e.response)})},fnGetSkuList:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/skus/simple/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){console.log(t.data),e.sku_list=t.data}).catch(function(e){console.log(e.response)})},resetForm:function(e){this.$refs[e].resetFields()}},mounted:function(){this.fnGetSkuList()}}),rt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"add_channels_wrap"},[s("el-button",{staticClass:"pull-right",attrs:{type:"primary",size:"small"},on:{click:function(t){e.pop_show=!0}}},[e._v("新增商品图片")]),e._v(" "),s("el-dialog",{attrs:{title:"新增商品图片",visible:e.pop_show,"append-to-body":""},on:{"update:visible":function(t){e.pop_show=t}}},[s("el-form",{ref:"BrandsForm",attrs:{model:e.PicturesForm,"status-icon":"",rules:e.rulesBrandsForm,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"SKU商品：",prop:"content_type"}},[s("el-select",{attrs:{size:"small"},model:{value:e.PicturesForm.sku,callback:function(t){e.$set(e.PicturesForm,"sku",t)},expression:"PicturesForm.sku"}},e._l(e.sku_list,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"商品图片",prop:"logo"}},[s("el-upload",{attrs:{action:"",limit:1,"auto-upload":!1}},[s("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击选择图片")])],1)],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:function(t){return e.resetForm("ChannelsForm")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]},it=s("VU/8")(nt,rt,!1,null,null,null).exports,lt=(localStorage.token,{name:"OptionsTable",props:["pictures"],data:function(){return{pop_show:!1,sku_list:[],PicturesForm:{sku:"",image:""},rulesPicturesForm:{}}},methods:{fnPopShow:function(e){var t=this;this.pop_show=!0,this.edit_id=e;var s=localStorage.token;this.axios.get(i.apis+"/skus/images/"+this.edit_id+"/",{headers:{Authorization:"JWT "+s},responseType:"json"}).then(function(e){t.PicturesForm.sku=e.data.sku,t.PicturesForm.image=e.data.image}).catch(function(e){console.log(e.response)})},submitForm:function(){var e=this,t=document.querySelector(".el-upload .el-upload__input"),s=new FormData;s.append("sku",this.PicturesForm.sku),s.append("image",t.files[0],t.files[0].name);var o=localStorage.token;this.axios.put(i.apis+"/skus/images/"+this.edit_id+"/",s,{headers:{Authorization:"JWT "+o},responseType:"json"}).then(function(t){e.$message({type:"success",message:"商品图片修改成功!"}),e.pop_show=!1,e.$emit("fnResetTable"),e.resetForm("ChannelsForm")}).catch(function(e){console.log(e.response)})},fnDelPictures:function(e){var t=this;this.edit_id=e,this.$confirm("此操作将删除该商品图片, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e=localStorage.token;t.axios.delete(i.apis+"/skus/images/"+t.edit_id+"/",{headers:{Authorization:"JWT "+e},responseType:"json"}).then(function(e){t.$message({type:"success",message:"删除图片成功!"}),t.$emit("fnResetTable")}).catch(function(e){404==e.response.status&&t.$message({type:"info",message:"图片未找到！"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},fnGetSkuList:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/skus/simple/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){console.log(t.data),e.sku_list=t.data}).catch(function(e){console.log(e.response)})},resetForm:function(e){this.$refs[e].resetFields()}},mounted:function(){this.fnGetSkuList()}}),ct={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"auther_table_wrap"},[s("el-table",{staticStyle:{width:"95.2%",margin:"0px auto"},attrs:{data:e.pictures,border:"",size:"medium"}},[s("el-table-column",{attrs:{prop:"id",label:"id",width:"100"}}),e._v(" "),s("el-table-column",{attrs:{prop:"sku",label:"SKU商品id"}}),e._v(" "),s("el-table-column",{attrs:{label:"商品图片"},scopedSlots:e._u([{key:"default",fn:function(e){return[s("img",{attrs:{src:e.row.image,width:"100",height:"100"}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return e.fnPopShow(t.row.id)}}},[e._v("编辑")]),e._v(" "),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.fnDelPictures(t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),s("el-dialog",{attrs:{title:"修改商品图片",visible:e.pop_show,"append-to-body":""},on:{"update:visible":function(t){e.pop_show=t}}},[s("el-form",{ref:"BrandsForm",attrs:{model:e.PicturesForm,"status-icon":"",rules:e.rulesPicturesForm,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"SKU商品id：",prop:"content_type"}},[s("el-select",{attrs:{size:"small"},model:{value:e.PicturesForm.sku,callback:function(t){e.$set(e.PicturesForm,"sku",t)},expression:"PicturesForm.sku"}},e._l(e.sku_list,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"商品图片",prop:"image"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("img",{attrs:{src:e.PicturesForm.image,width:"102"}})]}}])}),e._v(" "),s("el-form-item",{attrs:{label:"商品图片",prop:"logo"}},[s("el-upload",{attrs:{action:"",limit:1,"auto-upload":!1}},[s("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击选择图片")])],1)],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:function(t){e.pop_show=!1}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var ut={name:"Brands",data:function(){return{page:1,pages:8,pagesize:10,aPicturesList:[]}},components:{BreadCrumb:_,Addpictures:it,PicturesTable:s("VU/8")(lt,ct,!1,function(e){s("AmGz")},null,null).exports},mounted:function(){this.fnGetData(1)},methods:{fnGetData:function(e){var t=this,s=localStorage.token;this.axios.get(i.apis+"/skus/images/",{headers:{Authorization:"JWT "+s},responseType:"json",params:{page:e,pagesize:this.pagesize}}).then(function(e){t.aPicturesList=e.data.lists,t.page=e.data.page,t.pages=e.data.pages}).catch(function(e){console.log(e)})},fnGetPage:function(e){this.page=e,this.fnGetData(this.page)}}},pt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pictures_wrap"},[s("BreadCrumb",{attrs:{crumb:"商品图片管理"}}),e._v(" "),s("div",{staticClass:"top_bar"},[s("Addpictures",{on:{fnResetTable:e.fnGetData}})],1),e._v(" "),s("PicturesTable",{attrs:{pictures:e.aPicturesList},on:{fnResetTable:e.fnGetData}}),e._v(" "),s("el-pagination",{staticStyle:{"text-align":"center","margin-top":"10px"},attrs:{background:"",layout:"prev, pager, next","page-count":e.pages,"current-page":e.page},on:{"current-change":e.fnGetPage}})],1)},staticRenderFns:[]};var mt=s("VU/8")(ut,pt,!1,function(e){s("VNLf")},"data-v-92d5d686",null).exports,dt=s("5eDb"),ft=s.n(dt),ht=s("q47d"),_t=(s("o5MN"),s("HaK5"),s("XUqK"),s("Q/P+"),s("f85y"),s("q/hF"),s("yXOt"),s("Rv7z"),s("c/6r"),localStorage.token,{name:"SpuAdd",data:function(){return{init:{language_url:"/static/tinymce/langs/zh_CN.js",language:"zh_CN",skin_url:"/static/tinymce/skins/lightgray",width:"99%",height:200,branding:!1,menubar:!1,plugins:"lists image media table textcolor wordcount contextmenu",toolbar:"undo redo |  styleselect | formatselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | lists image media table | removeformat"},brand_list:[],category1_list:[],category2_list:[],category3_list:[],SpuForm:{name:"",brand_id:"",category1_id:"",category2_id:"",category3_id:"",desc_detail:"",desc_pack:"",desc_service:""}}},components:{BreadCrumb:_,Editor:ht.a},methods:{fnGetBrand:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/goods/brands/simple/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.brand_list=t.data}).catch(function(e){console.log(e)})},fnGetCategories:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/goods/channel/categories/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.category1_list=t.data}).catch(function(e){console.log(e)})},fnGetCategory_sub:function(e,t){var s=this,o=localStorage.token;this.axios.get(i.apis+"/goods/channel/categories/"+e+"/",{headers:{Authorization:"JWT "+o},responseType:"json"}).then(function(e){s["category"+t+"_list"]=e.data}).catch(function(e){console.log(e)})},submitForm:function(){var e=this,t=localStorage.token;this.axios.post(i.apis+"/goods/",this.SpuForm,{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){201==t.status&&(e.$message({type:"success",message:"SPU添加成功!"}),setTimeout(function(){e.$router.push({path:"/home/spu"})},2e3))}).catch(function(t){if(400==t.response.status){var s=t.response.data;s.name&&e.$message({type:"info",message:s.name[0]}),s.non_field_errors&&e.$message({type:"info",message:s.non_field_errors[0]})}})}},mounted:function(){ft.a.init({}),this.fnGetBrand(),this.fnGetCategories()}}),gt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user_wrap"},[s("BreadCrumb",{attrs:{crumb:"SPU管理>新增SPU"}}),e._v(" "),s("div",{staticClass:"center_wrap"},[s("h1",{staticClass:"spu_form_title"},[e._v("新增SPU")]),e._v(" "),s("el-form",{ref:"SpuForm",attrs:{model:e.SpuForm,"status-icon":"","label-width":"100px"}},[s("el-form-item",{attrs:{label:"SPU名称",prop:"name"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.SpuForm.name,callback:function(t){e.$set(e.SpuForm,"name",t)},expression:"SpuForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"品牌：",prop:"brand_id"}},[s("el-select",{attrs:{size:"small"},model:{value:e.SpuForm.brand_id,callback:function(t){e.$set(e.SpuForm,"brand_id",t)},expression:"SpuForm.brand_id"}},e._l(e.brand_list,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"一级分类：",prop:"category1_id"}},[s("el-select",{attrs:{size:"small"},on:{change:function(t){return e.fnGetCategory_sub(e.SpuForm.category1_id,2)}},model:{value:e.SpuForm.category1_id,callback:function(t){e.$set(e.SpuForm,"category1_id",t)},expression:"SpuForm.category1_id"}},e._l(e.category1_list,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"二级分类：",prop:"category2_id"}},[s("el-select",{attrs:{size:"small"},on:{change:function(t){return e.fnGetCategory_sub(e.SpuForm.category2_id,3)}},model:{value:e.SpuForm.category2_id,callback:function(t){e.$set(e.SpuForm,"category2_id",t)},expression:"SpuForm.category2_id"}},e._l(e.category2_list,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"三级分类：",prop:"category3_id"}},[s("el-select",{attrs:{size:"small"},model:{value:e.SpuForm.category3_id,callback:function(t){e.$set(e.SpuForm,"category3_id",t)},expression:"SpuForm.category3_id"}},e._l(e.category3_list,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"商品详情:"}},[s("div",[s("editor",{attrs:{init:e.init},model:{value:e.SpuForm.desc_detail,callback:function(t){e.$set(e.SpuForm,"desc_detail",t)},expression:"SpuForm.desc_detail"}})],1)]),e._v(" "),s("el-form-item",{attrs:{label:"商品包装:"}},[s("div",[s("editor",{attrs:{init:e.init},model:{value:e.SpuForm.desc_pack,callback:function(t){e.$set(e.SpuForm,"desc_pack",t)},expression:"SpuForm.desc_pack"}})],1)]),e._v(" "),s("el-form-item",{attrs:{label:"售后服务:"}},[s("div",[s("editor",{attrs:{init:e.init},model:{value:e.SpuForm.desc_service,callback:function(t){e.$set(e.SpuForm,"desc_service",t)},expression:"SpuForm.desc_service"}})],1)]),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:function(t){return e.resetForm("SpuForm")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]};var vt=s("VU/8")(_t,gt,!1,function(e){s("vMUr")},"data-v-f6df8e14",null).exports,bt=(localStorage.token,{name:"SpuAdd",data:function(){return{edit_id:"",init:{language_url:"/static/tinymce/langs/zh_CN.js",language:"zh_CN",skin_url:"/static/tinymce/skins/lightgray",width:"99%",height:200,branding:!1,menubar:!1,plugins:"lists image media table textcolor wordcount contextmenu",toolbar:"undo redo |  styleselect | formatselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | lists image media table | removeformat"},brand_list:[],category1_list:[],category2_list:[],category3_list:[],SpuForm:{name:"",brand_id:"",category1_id:"",category2_id:"",category3_id:"",desc_detail:"",desc_pack:"",desc_service:""}}},components:{BreadCrumb:_,Editor:ht.a},methods:{fnGetThisCategory:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/goods/"+this.edit_id+"/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.SpuForm.name=t.data.name,e.SpuForm.brand_id=t.data.brand_id,e.SpuForm.category1_id=t.data.category1_id,e.fnGetCategory_sub(t.data.category1_id,2),e.SpuForm.category2_id=t.data.category2_id,e.fnGetCategory_sub(t.data.category2_id,3),e.SpuForm.category3_id=t.data.category3_id,e.SpuForm.desc_detail=t.data.desc_detail,e.SpuForm.desc_pack=t.data.desc_pack,e.SpuForm.desc_service=t.data.desc_service}).catch(function(e){console.log(e)})},fnGetBrand:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/goods/brands/simple/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.brand_list=t.data}).catch(function(e){console.log(e)})},fnGetCategories:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/goods/channel/categories/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.category1_list=t.data}).catch(function(e){console.log(e)})},fnGetCategory_sub:function(e,t){var s=this,o=localStorage.token;this.axios.get(i.apis+"/goods/channel/categories/"+e+"/",{headers:{Authorization:"JWT "+o},responseType:"json"}).then(function(e){s["category"+t+"_list"]=e.data}).catch(function(e){console.log(e)})},submitForm:function(){var e=this,t=localStorage.token;this.axios.put(i.apis+"/goods/"+this.edit_id+"/",this.SpuForm,{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){200==t.status&&(e.$message({type:"success",message:"SPU修改成功!"}),setTimeout(function(){e.$router.push({path:"/home/spu"})},2e3))}).catch(function(t){if(400==t.response.status){var s=t.response.data;s.name&&e.$message({type:"info",message:s.name[0]}),s.non_field_errors&&e.$message({type:"info",message:s.non_field_errors[0]})}})}},mounted:function(){ft.a.init({}),this.fnGetBrand(),this.fnGetCategories(),this.edit_id=this.$route.params.sEdit_id,this.fnGetThisCategory()}}),Ft={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user_wrap"},[s("BreadCrumb",{attrs:{crumb:"SPU管理>SPU修改"}}),e._v(" "),s("div",{staticClass:"center_wrap"},[s("h1",{staticClass:"spu_form_title"},[e._v("SPU修改")]),e._v(" "),s("el-form",{ref:"SpuForm",attrs:{model:e.SpuForm,"status-icon":"","label-width":"100px"}},[s("el-form-item",{attrs:{label:"SPU名称",prop:"name"}},[s("el-input",{attrs:{type:"text",autocomplete:"off",size:"small"},model:{value:e.SpuForm.name,callback:function(t){e.$set(e.SpuForm,"name",t)},expression:"SpuForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"品牌：",prop:"brand_id"}},[s("el-select",{attrs:{size:"small"},model:{value:e.SpuForm.brand_id,callback:function(t){e.$set(e.SpuForm,"brand_id",t)},expression:"SpuForm.brand_id"}},e._l(e.brand_list,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"一级分类：",prop:"category1_id"}},[s("el-select",{attrs:{size:"small"},on:{change:function(t){return e.fnGetCategory_sub(e.SpuForm.category1_id,2)}},model:{value:e.SpuForm.category1_id,callback:function(t){e.$set(e.SpuForm,"category1_id",t)},expression:"SpuForm.category1_id"}},e._l(e.category1_list,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"二级分类：",prop:"category2_id"}},[s("el-select",{attrs:{size:"small"},on:{change:function(t){return e.fnGetCategory_sub(e.SpuForm.category2_id,3)}},model:{value:e.SpuForm.category2_id,callback:function(t){e.$set(e.SpuForm,"category2_id",t)},expression:"SpuForm.category2_id"}},e._l(e.category2_list,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"三级分类：",prop:"category3_id"}},[s("el-select",{attrs:{size:"small"},model:{value:e.SpuForm.category3_id,callback:function(t){e.$set(e.SpuForm,"category3_id",t)},expression:"SpuForm.category3_id"}},e._l(e.category3_list,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"商品详情:"}},[s("div",[s("editor",{attrs:{init:e.init},model:{value:e.SpuForm.desc_detail,callback:function(t){e.$set(e.SpuForm,"desc_detail",t)},expression:"SpuForm.desc_detail"}})],1)]),e._v(" "),s("el-form-item",{attrs:{label:"商品包装:"}},[s("div",[s("editor",{attrs:{init:e.init},model:{value:e.SpuForm.desc_pack,callback:function(t){e.$set(e.SpuForm,"desc_pack",t)},expression:"SpuForm.desc_pack"}})],1)]),e._v(" "),s("el-form-item",{attrs:{label:"售后服务:"}},[s("div",[s("editor",{attrs:{init:e.init},model:{value:e.SpuForm.desc_service,callback:function(t){e.$set(e.SpuForm,"desc_service",t)},expression:"SpuForm.desc_service"}})],1)]),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),e._v(" "),s("el-button",[s("router-link",{staticStyle:{color:"#606266"},attrs:{to:"/home/spu"}},[e._v("取消")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var yt=s("VU/8")(bt,Ft,!1,function(e){s("I6yU")},"data-v-16a8dd7b",null).exports,kt=s("bOdI"),wt=s.n(kt),xt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-table",{staticStyle:{width:"95.2%",margin:"0px auto"},attrs:{data:e.orders,border:"",size:"medium"}},[s("el-table-column",{attrs:{prop:"order_id",label:"订单id"}}),e._v(" "),s("el-table-column",{attrs:{prop:"create_time",label:"创建时间"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini"}},[s("router-link",{attrs:{to:{name:"OrderDetail",params:{sEdit_id:t.row.order_id}}}},[e._v("订单详情")])],1)]}}])})],1)},staticRenderFns:[]};var St=s("VU/8")({name:"OrderTable",props:["orders"],data:function(){return{}}},xt,!1,function(e){s("JGCd")},"data-v-9498a7a4",null).exports,Tt=(localStorage.token,wt()({name:"User",data:function(){return{keyword:"",page:1,pages:8,pagesize:10,aOrderList:[]}},components:{BreadCrumb:_,OrderTable:St},mounted:function(){this.fnGetData(1)},methods:{fnGetData:function(e){var t=this,s=localStorage.token;this.axios.get(i.apis+"/orders/",{headers:{Authorization:"JWT "+s},responseType:"json",params:{page:e,pagesize:this.pagesize,keyword:this.keyword}}).then(function(e){t.aOrderList=e.data.lists,t.page=e.data.page,t.pages=e.data.pages}).catch(function(e){console.log(e)})},fnGetKey:function(e){this.keyword=e,this.fnGetData(1)},fnGetPage:function(e){this.page=e,this.fnGetData(this.page)}}},"mounted",function(){this.fnGetData(1)})),$t={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user_wrap"},[s("BreadCrumb",{attrs:{crumb:"订单管理"}}),e._v(" "),s("div",{staticClass:"top_bar"},[s("el-row",[s("el-col",{attrs:{span:8}},[s("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入搜索内容",size:"small"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}},[s("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.fnGetData(1)}},slot:"append"})],1)],1)],1)],1),e._v(" "),s("OrderTable",{attrs:{orders:e.aOrderList}}),e._v(" "),s("el-pagination",{staticStyle:{"text-align":"center","margin-top":"10px"},attrs:{background:"",layout:"prev, pager, next","page-count":e.pages,"current-page":e.page},on:{"current-change":e.fnGetPage}})],1)},staticRenderFns:[]};var Ct=s("VU/8")(Tt,$t,!1,function(e){s("O0La")},"data-v-11e9e2d6",null).exports,zt=(localStorage.token,{name:"SpuAdd",data:function(){return{express_check_pop_show:!1,edit_id:"",oOrder:{},pop_show:!1,express_pop_show:!1,statusForm:{status:""},status_list:[{id:1,name:"待支付"},{id:2,name:"待发货"},{id:3,name:"待收货"},{id:4,name:"待评价"},{id:5,name:"已完成"},{id:6,name:"已取消"}]}},components:{BreadCrumb:_},methods:{fnGetThisDetail:function(){var e=this,t=localStorage.token;this.axios.get(i.apis+"/orders/"+this.edit_id+"/",{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.oOrder=t.data,e.edit_id=t.data.order_id,e.statusForm.status=t.data.status}).catch(function(e){console.log(e)})},submitForm:function(){var e=this,t=localStorage.token;this.axios.patch(i.apis+"/orders/"+this.edit_id+"/status/",{status:this.statusForm.status},{headers:{Authorization:"JWT "+t},responseType:"json"}).then(function(t){e.$message({type:"success",message:"修改状态成功!"}),e.pop_show=!1,e.fnGetThisDetail()}).catch(function(e){console.log(e.response)})}},mounted:function(){this.edit_id=this.$route.params.sEdit_id,this.fnGetThisDetail()},filters:{process:function(e){if(""!=e)return 1==e?"待支付":2==e?"待发货":3==e?"待收货":4==e?"待评价":5==e?"已完成":"已取消"},paystyle:function(e){if(""!=e)return 1==e?"货到付款":"支付宝"}}}),Gt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user_wrap"},[s("BreadCrumb",{attrs:{crumb:"订单管理>订单详情"}}),e._v(" "),s("div",{staticClass:"center_wrap"},[s("div",{staticClass:"order_detail_title_con"},[s("h1",{staticClass:"order_detail_title"},[e._v("订单详情")]),e._v(" "),s("router-link",{staticClass:"order_back",attrs:{to:"/home/order"}},[e._v("返回")])],1),e._v(" "),s("el-row",{staticClass:"order_line"},[s("el-col",{attrs:{span:8}},[e._v("订单号："+e._s(e.oOrder.order_id))]),e._v(" "),s("el-col",{attrs:{span:8}},[e._v("时间："+e._s(e.oOrder.create_time))]),e._v(" "),s("el-col",{attrs:{span:8}},[e._v("用户："+e._s(e.oOrder.user))])],1),e._v(" "),s("el-row",{staticClass:"order_line"},[s("el-col",{attrs:{span:8}},[e._v("商品总数："+e._s(e.oOrder.total_count))]),e._v(" "),s("el-col",{attrs:{span:8}},[e._v("总价："+e._s(e.oOrder.total_amount))]),e._v(" "),s("el-col",{attrs:{span:8}},[e._v("运费："+e._s(e.oOrder.freight))])],1),e._v(" "),s("el-row",{staticClass:"order_line"},[s("el-col",{attrs:{span:8}},[e._v("\n          付款方式："+e._s(e._f("paystyle")(e.oOrder.pay_method))+"\n        ")]),e._v(" "),s("el-col",{attrs:{span:8}},[e._v("\n          状态："+e._s(e._f("process")(e.oOrder.status))+"      \n          "),s("el-button",{attrs:{size:"mini",round:""},on:{click:function(t){e.pop_show=!0}}},[e._v("修改状态")])],1)],1),e._v(" "),s("el-table",{staticStyle:{margin:"20px auto 0px"},attrs:{data:e.oOrder.skus,border:"",size:"medium"}},[s("el-table-column",{attrs:{label:"商品图片",width:"150"},scopedSlots:e._u([{key:"default",fn:function(e){return[s("img",{attrs:{src:e.row.sku.default_image,width:"102"}})]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"sku.name",label:"商品名称"}}),e._v(" "),s("el-table-column",{attrs:{prop:"price",label:"商品价格"}}),e._v(" "),s("el-table-column",{attrs:{prop:"count",label:"商品数量"}})],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"修改状态",visible:e.pop_show,"append-to-body":""},on:{"update:visible":function(t){e.pop_show=t}}},[s("el-form",{ref:"statusForm",attrs:{model:e.statusForm,"status-icon":"","label-width":"100px"}},[s("el-form-item",{attrs:{label:"订单状态：",prop:"status"}},[s("el-select",{attrs:{size:"small"},model:{value:e.statusForm.status,callback:function(t){e.$set(e.statusForm,"status",t)},expression:"statusForm.status"}},e._l(e.status_list,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:function(t){e.pop_show=!1}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var At=s("VU/8")(zt,Gt,!1,function(e){s("fZaw")},"data-v-8b063476",null).exports;o.default.use(r.a);var Pt=new r.a({routes:[{path:"/",name:"Login",component:u},{path:"/home",name:"Home",component:f,children:[{path:"/home",name:"Front",component:j},{path:"/home/front",name:"Front",component:j},{path:"/home/user",name:"User",component:L},{path:"/home/author",name:"Authority",component:X},{path:"/home/group",name:"Group",component:ne},{path:"/home/admin",name:"Admin",component:de},{path:"/home/sku",name:"Sku",component:ye},{path:"/home/spu",name:"Spu",component:Te},{path:"/home/specs",name:"Specs",component:Re},{path:"/home/options",name:"Options",component:Ve},{path:"/home/channels",name:"Channels",component:He},{path:"/home/brands",name:"Brands",component:at},{path:"/home/pictures",name:"Pictures",component:mt},{path:"/home/spuadd",name:"SpuAdd",component:vt},{path:"/home/spuedit",name:"SpuEdit",component:yt},{path:"/home/order",name:"Order",component:Ct},{path:"/home/order_detail",name:"OrderDetail",component:At}]},{path:"*",name:"NotFound",component:O}]}),Bt=s("XLwt"),Rt=s.n(Bt),jt=s("mtWM"),Jt=s.n(jt),Wt=s("zL8q"),Et=s.n(Wt);s("tvR6");o.default.config.productionTip=!1,o.default.prototype.echarts=Rt.a,o.default.prototype.axios=Jt.a,o.default.use(Et.a),new o.default({el:"#app",router:Pt,components:{App:n},template:"<App/>"})},O0La:function(e,t){},R6Mc:function(e,t){},RBd2:function(e,t){},Rp8b:function(e,t){},VNLf:function(e,t){},Y4GD:function(e,t){},YaoQ:function(e,t){},fZaw:function(e,t){},fytP:function(e,t){},gb6p:function(e,t){},"hA+d":function(e,t){},kVlQ:function(e,t){},luOr:function(e,t){},nEEv:function(e,t){},nIhh:function(e,t){},pTa0:function(e,t){},pc6p:function(e,t){},tvR6:function(e,t){},vMUr:function(e,t){},vnPP:function(e,t){},"wa+f":function(e,t){},xXFr:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.bf06aa69fbd0af1882c9.js.map